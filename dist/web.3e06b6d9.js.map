{"version":3,"sources":["../node_modules/riot/riot.esm.js","../node_modules/@riotjs/lazy/index.next.js","../node_modules/node-libs-browser/node_modules/punycode/punycode.js","../node_modules/url/util.js","../node_modules/querystring-es3/decode.js","../node_modules/querystring-es3/encode.js","../node_modules/querystring-es3/index.js","../node_modules/url/url.js","../node_modules/@riotjs/route/route.esm.js","../web/Loader.riot","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/bundle-loader.js","../web/App.riot","../web/index.js","../.cache/.cargo-web/loader-d20feded5cd4b4e8741163e1095849df.js","../.cache/.cargo-web/bundle-loader-d20feded5cd4b4e8741163e1095849df.js","../node_modules/parcel-bundler/src/builtins/loaders/browser/js-loader.js"],"names":["camelToDashCase","string","replace","toLowerCase","dashToCamelCase","_","c","toUpperCase","DOMattributesToObject","element","Array","from","attributes","reduce","acc","attribute","name","value","moveChildren","source","target","firstChild","appendChild","cleanNode","node","clearChildren","childNodes","children","forEach","removeNode","parentNode","remove","removeChild","EACH","IF","SIMPLE","TAG","SLOT","bindingTypes","ATTRIBUTE","EVENT","TEXT","VALUE","expressionTypes","createTemplateMeta","componentTemplate","fragment","dom","cloneNode","avoidDOMInjection","indexOf","slice","append","get","parent","start","end","before","isSelect","noSelection","child","insertBefore","selected","selectedIndex","call","querySelectorAll","eqeq","a","b","identity","O","indexOf$1","moreNodes","moreStart","moreEnd","lessNodes","lessStart","lessEnd","compare","length","m","l","isReversed","futureNodes","futureEnd","currentNodes","currentStart","currentEnd","next","list","i","nextSibling","drop","DELETION","INSERTION","SKIP","SKIP_OND","HS","futureStart","futureChanges","currentChanges","k","minLen","link","tresh","nodes","index","idxInOld","findK","newi","oldi","prev","diff","ptr","OND","rows","cols","d","r","pv","cv","pd","v","outer","diffIdx","applyDiff","currentLength","live","currentIndex","push","ktr","j","lo","hi","mid","smartDiff","dropChild","domdiff","options","currentSame","futureSame","checkType","type","isSvg","el","owner","ownerSVGElement","isTemplate","isNil","content","isFunction","isBoolean","isObject","UNMOUNT_SCOPE","Symbol","EachBinding","Object","seal","mount","scope","parentScope","update","placeholder","childrenMap","collection","evaluate","items","createPatch","newChildrenMap","batches","patch","values","fn","unmount","redundant","item","info","pop","template","context","mustFilterItem","condition","Boolean","extendScope","_ref","itemName","indexName","binding","getKey","root","isTemplateTag","Map","create","key","oldItem","clone","mustMount","meta","delete","set","_ref2","document","createTextNode","assign","createDOM","IfBinding","pristine","mustUnmount","create$1","panic","message","Error","memoize","cache","cached","val","has","evaluateAttributeExpressions","REMOVE_ATTRIBUTE","SET_ATTIBUTE","ElementProto","Element","prototype","isNativeHtmlProperty","hasOwnProperty","setAllAttributes","entries","attributeExpression","removeAllAttributes","newAttributes","oldAttributes","newKeys","keys","filter","includes","removeAttribute","oldValue","getMethod","normalizeValue","RE_EVENTS_PREFIX","getCallbackAndOptions","isArray","EventListener","handleEvent","event","ListenersWeakMap","WeakMap","createListener","listener","eventExpression","normalizedEventName","eventListener","callback","handler","mustAddEvent","removeEventListener","addEventListener","normalizeStringValue","getTextNode","childNodeIndex","nodeType","Node","COMMENT_NODE","textNode","replaceChild","textExpression","data","valueExpression","expression","expressions","Expression","apply","create$2","flattenCollectionMethods","methods","method","map","create$3","COMPONENTS_IMPLEMENTATION_MAP","DOM_COMPONENT_INSTANCE_PROPERTY","PLUGINS_SET","Set","IS_DIRECTIVE","VALUE_ATTRIBUTE","MOUNT_METHOD_KEY","UPDATE_METHOD_KEY","UNMOUNT_METHOD_KEY","SHOULD_UPDATE_KEY","ON_BEFORE_MOUNT_KEY","ON_MOUNTED_KEY","ON_BEFORE_UPDATE_KEY","ON_UPDATED_KEY","ON_BEFORE_UNMOUNT_KEY","ON_UNMOUNTED_KEY","PROPS_KEY","STATE_KEY","SLOTS_KEY","ROOT_KEY","IS_PURE_SYMBOL","for","PARENT_KEY_SYMBOL","ATTRIBUTES_KEY_SYMBOL","TEMPLATE_KEY_SYMBOL","globals","freeze","__proto__","extendParentScope","attr","getRealParent","undefined","SlotBinding","getTemplateScope","templateData","slots","find","id","realParent","create$6","html","bindings","moveSlotInnerContent","mustRemoveRoot","slot","createSlot","getTag","component","slotsToMarkup","slotBindings","concat","TagBinding","tag","getComponent","keepRootTag","create$4","fixTextExpressionsOffset","textExpressionsOffset","e","create$5","templateTagOffset","selector","redundantAttribute","querySelector","bindingExpressions","createHTMLTree","createElement","innerHTML","createSVGTree","container","svgNode","ownerDocument","importNode","window","DOMParser","parseFromString","documentElement","createDOMTree","injectDOM","createTemplateDOM","TemplateChunk","Math","max","bindingsData","DOMBindings","createBinding","createExpression","noop","autobindMethods","bind","callOrAssign","constructor","defineProperty","enumerable","writable","configurable","defineProperties","properties","defineDefaults","defaults","domToArray","els","test","toString","$","ctx","normalize","parseNodes","names","n","attrs","props","prop","setAttribute","CSS_BY_NAME","STYLE_NODE_SELECTOR","getStyleNode","style","head","cssManager","add","css","inject","join","curry","_len","arguments","_key","_len2","args","_key2","getName","tagName","COMPONENT_CORE_HELPERS","$$","PURE_COMPONENT_API","COMPONENT_LIFECYCLE_METHODS","MOCKED_TEMPLATE_INTERFACE","evaluateInitialProps","initialProps","bindDOMNodeToComponentObject","createCoreAPIMethods","mapFunction","componentTemplateFactory","components","createPureComponent","pureFactoryFunction","createComponent","exports","templateFn","createSubcomponents","_ref3","componentAPI","defineComponent","state","preserveRoot","_ref4","enhanceComponentAPI","createAttributeBindings","_ref5","runPlugins","computeState","oldState","newState","addCssHook","_ref6","newProps","mountComponent","componentName","compose","fns","f","g","DOM_COMPONENT_INSTANCE_PROPERTY$1","COMPONENTS_IMPLEMENTATION_MAP$1","PLUGINS_SET$1","register","unregister","keepRootElement","install","plugin","uninstall","implementation","_temp","pure","func","version","__","lazy","Loader","Component","export","hasLoader","LazyComponent","cachedComponent","isMounted","mountLazyComponent","createManagedComponent","Promise","resolve","load","then","default","Child","obj","module","qs","sep","eq","regexp","split","maxKeys","len","x","kstr","vstr","idx","substr","decodeURIComponent","xs","stringifyPrimitive","isFinite","objectKeys","ks","encodeURIComponent","res","decode","parse","require","encode","stringify","lexer","str","tokens","char","count","pattern","TypeError","code","charCodeAt","_a","prefixes","defaultPattern","escapeString","delimiter","result","path","tryConsume","mustConsume","nextType","consumeText","prefix","suffix","modifier","open","name_1","pattern_1","compile","tokensToFunction","reFlags","flags","_b","validate","matches","token","RegExp","optional","repeat","segment","typeOfMessage","String","sensitive","regexpToRegexp","groups","match","arrayToRegexp","paths","parts","pathToRegexp","stringToRegexp","tokensToRegexp","strict","_c","_d","endsWith","route","_i","tokens_1","mod","endToken","isEndDelimited","CANCEL","ruit","tasks","reject","run","queue","task","rest","done","cancel","reverse","API_METHODS","UNSUBSCRIBE_SYMBOL","UNSUBSCRIBE_METHOD","CANCEL_METHOD","createStream","modifiers","stream","input","dispatch","callbacks","erre","success","error","generator","addToCollection","deleteFromCollection","on","off","connect","err","return","clear","fork","hasWindow","isString","parseURL","URL","replaceBase","base","matchOrSkip","pathRegExp","joinStreams","dispatcherStream","receiverStream","panic$1","silentErrors","filterStrings","router","mergeOptions","toRegexp","toPath","params","toURL","exec","url","createURLStreamPipe","createRoute","URLStream","getCurrentRoute","currentRoute","getInitialRouteValue","routeHoc","onBeforeMount","onBeforeRoute","onRoute","callLifecycleProperty","onUnmounted","setBase","panic$2","manageEvents","evList","cb","WINDOW_EVENTS","CLICK_EVENT","DOWNLOAD_LINK_ATTRIBUTE","HREF_LINK_ATTRIBUTE","TARGET_SELF_LINK_ATTRIBUTE","LINK_TAG_NAME","HASH","RE_ORIGIN","getWindow","getDocument","getHistorty","history","getLocation","win","hist","location","onWindowEvent","normalizePath","href","onRouterPush","loc","doc","pushState","title","getLinkElement","isLinkNode","nodeName","isCrossOriginLink","isTargetSelfLink","isEventForbidden","which","metaKey","ctrlKey","shiftKey","defaultPrevented","isForbiddenLink","isHashLink","isInBase","onClick","preventDefault","initDomListeners","BASE_ATTRIBUTE_NAME","ON_STARTED_ATTRIBUTE_NAME","defer","requestAnimationFrame","setTimeout","cancelDefer","cancelAnimationFrame","clearTimeout","wasInitialized","routerHoc","getAttribute","teardown","onFirstRoute","onStartedAttr","deferred","getBase","baseAttr","protocol","host","bundleURL","getBundleURLCached","getBundleURL","stack","getBaseURL","loadBundlesLazy","bundles","LazyPromise","loadBundles","all","loadBundle","bundleLoaders","registerBundleLoader","loader","bundle","substring","lastIndexOf","bundleLoader","resolved","catch","executor","promise","onSuccess","onError","Router","Route","Counter","Books","App","__initialize","__wasm_module","__load_asynchronously","instance","Module","STDWEB_PRIVATE","to_utf8","addr","HEAPU8","u","to_js","address","kind","HEAP32","HEAPF64","pointer","HEAPU32","to_js_string","arena","output","value_array_pointer","key_array_pointer","key_pointer","key_length","acquire_js_reference","adapter_pointer","deallocator_pointer","num_ongoing_calls","drop_queued","ReferenceError","function_pointer","alloc","serialize_array","dyncall","tmp","array_kind","pointer_end","subarray","HEAP8","HEAPU16","HEAP16","HEAPF32","get_raw_value","serialize_object","key_address","to_utf8_string","from_js","cachedEncoder","TextEncoder","util","buffer","utf8_len","register_raw_value","refid","acquire_rust_reference","cachedDecoder","TextDecoder","fromCharCode","init","y","ch","z","y_z","w","id_to_ref_map","id_to_refcount_map","ref_to_id_map","ref_to_id_map_fallback","last_refid","id_to_raw_value_map","last_raw_value_id","reference","increment_refcount","decrement_refcount","unregister_raw_value","size","web_malloc","signature","web_table","prepare_any_arg","arg","acquire_tmp","dummy","__web_on_grow","memory","Int8Array","Int16Array","Int32Array","Uint8Array","Uint16Array","Uint32Array","Float32Array","Float64Array","imports","env","$0","$1","o","array","object","initialize","__web_malloc","__web_free","__indirect_function_table","counter_state","counter_dispatch","action","module_factory","WebAssembly","instantiate","wasm_instance","console","log","Instance","fetch","response","arrayBuffer","bytes","script","async","charset","src","onerror","onload","getElementsByTagName"],"mappings":"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","file":"web.3e06b6d9.js","sourceRoot":"../public","sourcesContent":["/* Riot v4.13.4, @license MIT */\n/**\n * Convert a string from camel case to dash-case\n * @param   {string} string - probably a component tag name\n * @returns {string} component name normalized\n */\nfunction camelToDashCase(string) {\n  return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n/**\n * Convert a string containing dashes to camel case\n * @param   {string} string - input string\n * @returns {string} my-string -> myString\n */\n\nfunction dashToCamelCase(string) {\n  return string.replace(/-(\\w)/g, (_, c) => c.toUpperCase());\n}\n\n/**\n * Get all the element attributes as object\n * @param   {HTMLElement} element - DOM node we want to parse\n * @returns {Object} all the attributes found as a key value pairs\n */\n\nfunction DOMattributesToObject(element) {\n  return Array.from(element.attributes).reduce((acc, attribute) => {\n    acc[dashToCamelCase(attribute.name)] = attribute.value;\n    return acc;\n  }, {});\n}\n/**\n * Move all the child nodes from a source tag to another\n * @param   {HTMLElement} source - source node\n * @param   {HTMLElement} target - target node\n * @returns {undefined} it's a void method ¯\\_(ツ)_/¯\n */\n// Ignore this helper because it's needed only for svg tags\n\nfunction moveChildren(source, target) {\n  if (source.firstChild) {\n    target.appendChild(source.firstChild);\n    moveChildren(source, target);\n  }\n}\n/**\n * Remove the child nodes from any DOM node\n * @param   {HTMLElement} node - target node\n * @returns {undefined}\n */\n\nfunction cleanNode(node) {\n  clearChildren(node.childNodes);\n}\n/**\n * Clear multiple children in a node\n * @param   {HTMLElement[]} children - direct children nodes\n * @returns {undefined}\n */\n\nfunction clearChildren(children) {\n  Array.from(children).forEach(removeNode);\n}\n/**\n * Remove a node from the DOM\n * @param   {HTMLElement} node - target node\n * @returns {undefined}\n */\n\nfunction removeNode(node) {\n  const {\n    parentNode\n  } = node;\n  if (node.remove) node.remove();\n  /* istanbul ignore else */\n  else if (parentNode) parentNode.removeChild(node);\n}\n\nconst EACH = 0;\nconst IF = 1;\nconst SIMPLE = 2;\nconst TAG = 3;\nconst SLOT = 4;\nvar bindingTypes = {\n  EACH,\n  IF,\n  SIMPLE,\n  TAG,\n  SLOT\n};\n\nconst ATTRIBUTE = 0;\nconst EVENT = 1;\nconst TEXT = 2;\nconst VALUE = 3;\nvar expressionTypes = {\n  ATTRIBUTE,\n  EVENT,\n  TEXT,\n  VALUE\n};\n\n/**\n * Create the template meta object in case of <template> fragments\n * @param   {TemplateChunk} componentTemplate - template chunk object\n * @returns {Object} the meta property that will be passed to the mount function of the TemplateChunk\n */\nfunction createTemplateMeta(componentTemplate) {\n  const fragment = componentTemplate.dom.cloneNode(true);\n  return {\n    avoidDOMInjection: true,\n    fragment,\n    children: Array.from(fragment.childNodes)\n  };\n}\n\nconst {\n  indexOf,\n  slice\n} = [];\n\nconst append = (get, parent, children, start, end, before) => {\n  const isSelect = ('selectedIndex' in parent);\n  let noSelection = isSelect;\n\n  while (start < end) {\n    const child = get(children[start], 1);\n    parent.insertBefore(child, before);\n\n    if (isSelect && noSelection && child.selected) {\n      noSelection = !noSelection;\n      let {\n        selectedIndex\n      } = parent;\n      parent.selectedIndex = selectedIndex < 0 ? start : indexOf.call(parent.querySelectorAll('option'), child);\n    }\n\n    start++;\n  }\n};\nconst eqeq = (a, b) => a == b;\nconst identity = O => O;\nconst indexOf$1 = (moreNodes, moreStart, moreEnd, lessNodes, lessStart, lessEnd, compare) => {\n  const length = lessEnd - lessStart;\n  /* istanbul ignore if */\n\n  if (length < 1) return -1;\n\n  while (moreEnd - moreStart >= length) {\n    let m = moreStart;\n    let l = lessStart;\n\n    while (m < moreEnd && l < lessEnd && compare(moreNodes[m], lessNodes[l])) {\n      m++;\n      l++;\n    }\n\n    if (l === lessEnd) return moreStart;\n    moreStart = m + 1;\n  }\n\n  return -1;\n};\nconst isReversed = (futureNodes, futureEnd, currentNodes, currentStart, currentEnd, compare) => {\n  while (currentStart < currentEnd && compare(currentNodes[currentStart], futureNodes[futureEnd - 1])) {\n    currentStart++;\n    futureEnd--;\n  }\n  return futureEnd === 0;\n};\nconst next = (get, list, i, length, before) => i < length ? get(list[i], 0) : 0 < i ? get(list[i - 1], -0).nextSibling : before;\nconst remove = (get, children, start, end) => {\n  while (start < end) drop(get(children[start++], -1));\n}; // - - - - - - - - - - - - - - - - - - -\n// diff related constants and utilities\n// - - - - - - - - - - - - - - - - - - -\n\nconst DELETION = -1;\nconst INSERTION = 1;\nconst SKIP = 0;\nconst SKIP_OND = 50;\n\nconst HS = (futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges) => {\n  let k = 0;\n  /* istanbul ignore next */\n\n  let minLen = futureChanges < currentChanges ? futureChanges : currentChanges;\n  const link = Array(minLen++);\n  const tresh = Array(minLen);\n  tresh[0] = -1;\n\n  for (let i = 1; i < minLen; i++) tresh[i] = currentEnd;\n\n  const nodes = currentNodes.slice(currentStart, currentEnd);\n\n  for (let i = futureStart; i < futureEnd; i++) {\n    const index = nodes.indexOf(futureNodes[i]);\n\n    if (-1 < index) {\n      const idxInOld = index + currentStart;\n      k = findK(tresh, minLen, idxInOld);\n      /* istanbul ignore else */\n\n      if (-1 < k) {\n        tresh[k] = idxInOld;\n        link[k] = {\n          newi: i,\n          oldi: idxInOld,\n          prev: link[k - 1]\n        };\n      }\n    }\n  }\n\n  k = --minLen;\n  --currentEnd;\n\n  while (tresh[k] > currentEnd) --k;\n\n  minLen = currentChanges + futureChanges - k;\n  const diff = Array(minLen);\n  let ptr = link[k];\n  --futureEnd;\n\n  while (ptr) {\n    const {\n      newi,\n      oldi\n    } = ptr;\n\n    while (futureEnd > newi) {\n      diff[--minLen] = INSERTION;\n      --futureEnd;\n    }\n\n    while (currentEnd > oldi) {\n      diff[--minLen] = DELETION;\n      --currentEnd;\n    }\n\n    diff[--minLen] = SKIP;\n    --futureEnd;\n    --currentEnd;\n    ptr = ptr.prev;\n  }\n\n  while (futureEnd >= futureStart) {\n    diff[--minLen] = INSERTION;\n    --futureEnd;\n  }\n\n  while (currentEnd >= currentStart) {\n    diff[--minLen] = DELETION;\n    --currentEnd;\n  }\n\n  return diff;\n}; // this is pretty much the same petit-dom code without the delete map part\n// https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L556-L561\n\n\nconst OND = (futureNodes, futureStart, rows, currentNodes, currentStart, cols, compare) => {\n  const length = rows + cols;\n  const v = [];\n  let d, k, r, c, pv, cv, pd;\n\n  outer: for (d = 0; d <= length; d++) {\n    /* istanbul ignore if */\n    if (d > SKIP_OND) return null;\n    pd = d - 1;\n    /* istanbul ignore next */\n\n    pv = d ? v[d - 1] : [0, 0];\n    cv = v[d] = [];\n\n    for (k = -d; k <= d; k += 2) {\n      if (k === -d || k !== d && pv[pd + k - 1] < pv[pd + k + 1]) {\n        c = pv[pd + k + 1];\n      } else {\n        c = pv[pd + k - 1] + 1;\n      }\n\n      r = c - k;\n\n      while (c < cols && r < rows && compare(currentNodes[currentStart + c], futureNodes[futureStart + r])) {\n        c++;\n        r++;\n      }\n\n      if (c === cols && r === rows) {\n        break outer;\n      }\n\n      cv[d + k] = c;\n    }\n  }\n\n  const diff = Array(d / 2 + length / 2);\n  let diffIdx = diff.length - 1;\n\n  for (d = v.length - 1; d >= 0; d--) {\n    while (c > 0 && r > 0 && compare(currentNodes[currentStart + c - 1], futureNodes[futureStart + r - 1])) {\n      // diagonal edge = equality\n      diff[diffIdx--] = SKIP;\n      c--;\n      r--;\n    }\n\n    if (!d) break;\n    pd = d - 1;\n    /* istanbul ignore next */\n\n    pv = d ? v[d - 1] : [0, 0];\n    k = c - r;\n\n    if (k === -d || k !== d && pv[pd + k - 1] < pv[pd + k + 1]) {\n      // vertical edge = insertion\n      r--;\n      diff[diffIdx--] = INSERTION;\n    } else {\n      // horizontal edge = deletion\n      c--;\n      diff[diffIdx--] = DELETION;\n    }\n  }\n\n  return diff;\n};\n\nconst applyDiff = (diff, get, parentNode, futureNodes, futureStart, currentNodes, currentStart, currentLength, before) => {\n  const live = [];\n  const length = diff.length;\n  let currentIndex = currentStart;\n  let i = 0;\n\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        futureStart++;\n        currentIndex++;\n        break;\n\n      case INSERTION:\n        // TODO: bulk appends for sequential nodes\n        live.push(futureNodes[futureStart]);\n        append(get, parentNode, futureNodes, futureStart++, futureStart, currentIndex < currentLength ? get(currentNodes[currentIndex], 0) : before);\n        break;\n\n      case DELETION:\n        currentIndex++;\n        break;\n    }\n  }\n\n  i = 0;\n\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        currentStart++;\n        break;\n\n      case DELETION:\n        // TODO: bulk removes for sequential nodes\n        if (-1 < live.indexOf(currentNodes[currentStart])) currentStart++;else remove(get, currentNodes, currentStart++, currentStart);\n        break;\n    }\n  }\n};\n\nconst findK = (ktr, length, j) => {\n  let lo = 1;\n  let hi = length;\n\n  while (lo < hi) {\n    const mid = (lo + hi) / 2 >>> 0;\n    if (j < ktr[mid]) hi = mid;else lo = mid + 1;\n  }\n\n  return lo;\n};\n\nconst smartDiff = (get, parentNode, futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges, currentLength, compare, before) => {\n  applyDiff(OND(futureNodes, futureStart, futureChanges, currentNodes, currentStart, currentChanges, compare) || HS(futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges), get, parentNode, futureNodes, futureStart, currentNodes, currentStart, currentLength, before);\n};\n\nconst drop = node => (node.remove || dropChild).call(node);\n\nfunction dropChild() {\n  const {\n    parentNode\n  } = this;\n  /* istanbul ignore else */\n\n  if (parentNode) parentNode.removeChild(this);\n}\n\n/*! (c) 2018 Andrea Giammarchi (ISC) */\n\nconst domdiff = (parentNode, // where changes happen\ncurrentNodes, // Array of current items/nodes\nfutureNodes, // Array of future items/nodes\noptions // optional object with one of the following properties\n//  before: domNode\n//  compare(generic, generic) => true if same generic\n//  node(generic) => Node\n) => {\n  if (!options) options = {};\n  const compare = options.compare || eqeq;\n  const get = options.node || identity;\n  const before = options.before == null ? null : get(options.before, 0);\n  const currentLength = currentNodes.length;\n  let currentEnd = currentLength;\n  let currentStart = 0;\n  let futureEnd = futureNodes.length;\n  let futureStart = 0; // common prefix\n\n  while (currentStart < currentEnd && futureStart < futureEnd && compare(currentNodes[currentStart], futureNodes[futureStart])) {\n    currentStart++;\n    futureStart++;\n  } // common suffix\n\n\n  while (currentStart < currentEnd && futureStart < futureEnd && compare(currentNodes[currentEnd - 1], futureNodes[futureEnd - 1])) {\n    currentEnd--;\n    futureEnd--;\n  }\n\n  const currentSame = currentStart === currentEnd;\n  const futureSame = futureStart === futureEnd; // same list\n\n  if (currentSame && futureSame) return futureNodes; // only stuff to add\n\n  if (currentSame && futureStart < futureEnd) {\n    append(get, parentNode, futureNodes, futureStart, futureEnd, next(get, currentNodes, currentStart, currentLength, before));\n    return futureNodes;\n  } // only stuff to remove\n\n\n  if (futureSame && currentStart < currentEnd) {\n    remove(get, currentNodes, currentStart, currentEnd);\n    return futureNodes;\n  }\n\n  const currentChanges = currentEnd - currentStart;\n  const futureChanges = futureEnd - futureStart;\n  let i = -1; // 2 simple indels: the shortest sequence is a subsequence of the longest\n\n  if (currentChanges < futureChanges) {\n    i = indexOf$1(futureNodes, futureStart, futureEnd, currentNodes, currentStart, currentEnd, compare); // inner diff\n\n    if (-1 < i) {\n      append(get, parentNode, futureNodes, futureStart, i, get(currentNodes[currentStart], 0));\n      append(get, parentNode, futureNodes, i + currentChanges, futureEnd, next(get, currentNodes, currentEnd, currentLength, before));\n      return futureNodes;\n    }\n  }\n  /* istanbul ignore else */\n  else if (futureChanges < currentChanges) {\n      i = indexOf$1(currentNodes, currentStart, currentEnd, futureNodes, futureStart, futureEnd, compare); // outer diff\n\n      if (-1 < i) {\n        remove(get, currentNodes, currentStart, i);\n        remove(get, currentNodes, i + futureChanges, currentEnd);\n        return futureNodes;\n      }\n    } // common case with one replacement for many nodes\n  // or many nodes replaced for a single one\n\n  /* istanbul ignore else */\n\n\n  if (currentChanges < 2 || futureChanges < 2) {\n    append(get, parentNode, futureNodes, futureStart, futureEnd, get(currentNodes[currentStart], 0));\n    remove(get, currentNodes, currentStart, currentEnd);\n    return futureNodes;\n  } // the half match diff part has been skipped in petit-dom\n  // https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L391-L397\n  // accordingly, I think it's safe to skip in here too\n  // if one day it'll come out like the speediest thing ever to do\n  // then I might add it in here too\n  // Extra: before going too fancy, what about reversed lists ?\n  //        This should bail out pretty quickly if that's not the case.\n\n\n  if (currentChanges === futureChanges && isReversed(futureNodes, futureEnd, currentNodes, currentStart, currentEnd, compare)) {\n    append(get, parentNode, futureNodes, futureStart, futureEnd, next(get, currentNodes, currentEnd, currentLength, before));\n    return futureNodes;\n  } // last resort through a smart diff\n\n\n  smartDiff(get, parentNode, futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges, currentLength, compare, before);\n  return futureNodes;\n};\n\n/**\n * Quick type checking\n * @param   {*} element - anything\n * @param   {string} type - type definition\n * @returns {boolean} true if the type corresponds\n */\nfunction checkType(element, type) {\n  return typeof element === type;\n}\n/**\n * Check if an element is part of an svg\n * @param   {HTMLElement}  el - element to check\n * @returns {boolean} true if we are in an svg context\n */\n\nfunction isSvg(el) {\n  const owner = el.ownerSVGElement;\n  return !!owner || owner === null;\n}\n/**\n * Check if an element is a template tag\n * @param   {HTMLElement}  el - element to check\n * @returns {boolean} true if it's a <template>\n */\n\nfunction isTemplate(el) {\n  return !isNil(el.content);\n}\n/**\n * Check that will be passed if its argument is a function\n * @param   {*} value - value to check\n * @returns {boolean} - true if the value is a function\n */\n\nfunction isFunction(value) {\n  return checkType(value, 'function');\n}\n/**\n * Check if a value is a Boolean\n * @param   {*}  value - anything\n * @returns {boolean} true only for the value is a boolean\n */\n\nfunction isBoolean(value) {\n  return checkType(value, 'boolean');\n}\n/**\n * Check if a value is an Object\n * @param   {*}  value - anything\n * @returns {boolean} true only for the value is an object\n */\n\nfunction isObject(value) {\n  return !isNil(value) && checkType(value, 'object');\n}\n/**\n * Check if a value is null or undefined\n * @param   {*}  value - anything\n * @returns {boolean} true only for the 'undefined' and 'null' types\n */\n\nfunction isNil(value) {\n  return value === null || value === undefined;\n}\n\nconst UNMOUNT_SCOPE = Symbol('unmount');\nconst EachBinding = Object.seal({\n  // dynamic binding properties\n  // childrenMap: null,\n  // node: null,\n  // root: null,\n  // condition: null,\n  // evaluate: null,\n  // template: null,\n  // isTemplateTag: false,\n  nodes: [],\n\n  // getKey: null,\n  // indexName: null,\n  // itemName: null,\n  // afterPlaceholder: null,\n  // placeholder: null,\n  // API methods\n  mount(scope, parentScope) {\n    return this.update(scope, parentScope);\n  },\n\n  update(scope, parentScope) {\n    const {\n      placeholder,\n      nodes,\n      childrenMap\n    } = this;\n    const collection = scope === UNMOUNT_SCOPE ? null : this.evaluate(scope);\n    const items = collection ? Array.from(collection) : [];\n    const parent = placeholder.parentNode; // prepare the diffing\n\n    const {\n      newChildrenMap,\n      batches,\n      futureNodes\n    } = createPatch(items, scope, parentScope, this); // patch the DOM only if there are new nodes\n\n    domdiff(parent, nodes, futureNodes, {\n      before: placeholder,\n      node: patch(Array.from(childrenMap.values()), parentScope)\n    }); // trigger the mounts and the updates\n\n    batches.forEach(fn => fn()); // update the children map\n\n    this.childrenMap = newChildrenMap;\n    this.nodes = futureNodes;\n    return this;\n  },\n\n  unmount(scope, parentScope) {\n    this.update(UNMOUNT_SCOPE, parentScope);\n    return this;\n  }\n\n});\n/**\n * Patch the DOM while diffing\n * @param   {TemplateChunk[]} redundant - redundant tepmplate chunks\n * @param   {*} parentScope - scope of the parent template\n * @returns {Function} patch function used by domdiff\n */\n\nfunction patch(redundant, parentScope) {\n  return (item, info) => {\n    if (info < 0) {\n      const element = redundant.pop();\n\n      if (element) {\n        const {\n          template,\n          context\n        } = element; // notice that we pass null as last argument because\n        // the root node and its children will be removed by domdiff\n\n        template.unmount(context, parentScope, null);\n      }\n    }\n\n    return item;\n  };\n}\n/**\n * Check whether a template must be filtered from a loop\n * @param   {Function} condition - filter function\n * @param   {Object} context - argument passed to the filter function\n * @returns {boolean} true if this item should be skipped\n */\n\n\nfunction mustFilterItem(condition, context) {\n  return condition ? Boolean(condition(context)) === false : false;\n}\n/**\n * Extend the scope of the looped template\n * @param   {Object} scope - current template scope\n * @param   {string} options.itemName - key to identify the looped item in the new context\n * @param   {string} options.indexName - key to identify the index of the looped item\n * @param   {number} options.index - current index\n * @param   {*} options.item - collection item looped\n * @returns {Object} enhanced scope object\n */\n\n\nfunction extendScope(scope, _ref) {\n  let {\n    itemName,\n    indexName,\n    index,\n    item\n  } = _ref;\n  scope[itemName] = item;\n  if (indexName) scope[indexName] = index;\n  return scope;\n}\n/**\n * Loop the current template items\n * @param   {Array} items - expression collection value\n * @param   {*} scope - template scope\n * @param   {*} parentScope - scope of the parent template\n * @param   {EeachBinding} binding - each binding object instance\n * @returns {Object} data\n * @returns {Map} data.newChildrenMap - a Map containing the new children template structure\n * @returns {Array} data.batches - array containing the template lifecycle functions to trigger\n * @returns {Array} data.futureNodes - array containing the nodes we need to diff\n */\n\n\nfunction createPatch(items, scope, parentScope, binding) {\n  const {\n    condition,\n    template,\n    childrenMap,\n    itemName,\n    getKey,\n    indexName,\n    root,\n    isTemplateTag\n  } = binding;\n  const newChildrenMap = new Map();\n  const batches = [];\n  const futureNodes = [];\n  items.forEach((item, index) => {\n    const context = extendScope(Object.create(scope), {\n      itemName,\n      indexName,\n      index,\n      item\n    });\n    const key = getKey ? getKey(context) : index;\n    const oldItem = childrenMap.get(key);\n\n    if (mustFilterItem(condition, context)) {\n      return;\n    }\n\n    const componentTemplate = oldItem ? oldItem.template : template.clone();\n    const el = oldItem ? componentTemplate.el : root.cloneNode();\n    const mustMount = !oldItem;\n    const meta = isTemplateTag && mustMount ? createTemplateMeta(componentTemplate) : {};\n\n    if (mustMount) {\n      batches.push(() => componentTemplate.mount(el, context, parentScope, meta));\n    } else {\n      batches.push(() => componentTemplate.update(context, parentScope));\n    } // create the collection of nodes to update or to add\n    // in case of template tags we need to add all its children nodes\n\n\n    if (isTemplateTag) {\n      const children = meta.children || componentTemplate.children;\n      futureNodes.push(...children);\n    } else {\n      futureNodes.push(el);\n    } // delete the old item from the children map\n\n\n    childrenMap.delete(key); // update the children map\n\n    newChildrenMap.set(key, {\n      template: componentTemplate,\n      context,\n      index\n    });\n  });\n  return {\n    newChildrenMap,\n    batches,\n    futureNodes\n  };\n}\n\nfunction create(node, _ref2) {\n  let {\n    evaluate,\n    condition,\n    itemName,\n    indexName,\n    getKey,\n    template\n  } = _ref2;\n  const placeholder = document.createTextNode('');\n  const parent = node.parentNode;\n  const root = node.cloneNode();\n  parent.insertBefore(placeholder, node);\n  removeNode(node);\n  return Object.assign({}, EachBinding, {\n    childrenMap: new Map(),\n    node,\n    root,\n    condition,\n    evaluate,\n    isTemplateTag: isTemplate(root),\n    template: template.createDOM(node),\n    getKey,\n    indexName,\n    itemName,\n    placeholder\n  });\n}\n\n/**\n * Binding responsible for the `if` directive\n */\n\nconst IfBinding = Object.seal({\n  // dynamic binding properties\n  // node: null,\n  // evaluate: null,\n  // isTemplateTag: false,\n  // placeholder: null,\n  // template: null,\n  // API methods\n  mount(scope, parentScope) {\n    return this.update(scope, parentScope);\n  },\n\n  update(scope, parentScope) {\n    const value = !!this.evaluate(scope);\n    const mustMount = !this.value && value;\n    const mustUnmount = this.value && !value;\n\n    const mount = () => {\n      const pristine = this.node.cloneNode();\n      this.placeholder.parentNode.insertBefore(pristine, this.placeholder);\n      this.template = this.template.clone();\n      this.template.mount(pristine, scope, parentScope);\n    };\n\n    switch (true) {\n      case mustMount:\n        mount();\n        break;\n\n      case mustUnmount:\n        this.unmount(scope);\n        break;\n\n      default:\n        if (value) this.template.update(scope, parentScope);\n    }\n\n    this.value = value;\n    return this;\n  },\n\n  unmount(scope, parentScope) {\n    this.template.unmount(scope, parentScope, true);\n    return this;\n  }\n\n});\nfunction create$1(node, _ref) {\n  let {\n    evaluate,\n    template\n  } = _ref;\n  const parent = node.parentNode;\n  const placeholder = document.createTextNode('');\n  parent.insertBefore(placeholder, node);\n  removeNode(node);\n  return Object.assign({}, IfBinding, {\n    node,\n    evaluate,\n    placeholder,\n    template: template.createDOM(node)\n  });\n}\n\n/**\n * Throw an error with a descriptive message\n * @param   { string } message - error message\n * @returns { undefined } hoppla.. at this point the program should stop working\n */\n\nfunction panic(message) {\n  throw new Error(message);\n}\n/**\n * Returns the memoized (cached) function.\n * // borrowed from https://www.30secondsofcode.org/js/s/memoize\n * @param {Function} fn - function to memoize\n * @returns {Function} memoize function\n */\n\nfunction memoize(fn) {\n  const cache = new Map();\n\n  const cached = val => {\n    return cache.has(val) ? cache.get(val) : cache.set(val, fn.call(this, val)) && cache.get(val);\n  };\n\n  cached.cache = cache;\n  return cached;\n}\n/**\n * Evaluate a list of attribute expressions\n * @param   {Array} attributes - attribute expressions generated by the riot compiler\n * @returns {Object} key value pairs with the result of the computation\n */\n\nfunction evaluateAttributeExpressions(attributes) {\n  return attributes.reduce((acc, attribute) => {\n    const {\n      value,\n      type\n    } = attribute;\n\n    switch (true) {\n      // spread attribute\n      case !attribute.name && type === ATTRIBUTE:\n        return Object.assign({}, acc, value);\n      // value attribute\n\n      case type === VALUE:\n        acc.value = attribute.value;\n        break;\n      // normal attributes\n\n      default:\n        acc[dashToCamelCase(attribute.name)] = attribute.value;\n    }\n\n    return acc;\n  }, {});\n}\n\nconst REMOVE_ATTRIBUTE = 'removeAttribute';\nconst SET_ATTIBUTE = 'setAttribute';\nconst ElementProto = typeof Element === 'undefined' ? {} : Element.prototype;\nconst isNativeHtmlProperty = memoize(name => ElementProto.hasOwnProperty(name)); // eslint-disable-line\n\n/**\n * Add all the attributes provided\n * @param   {HTMLElement} node - target node\n * @param   {Object} attributes - object containing the attributes names and values\n * @returns {undefined} sorry it's a void function :(\n */\n\nfunction setAllAttributes(node, attributes) {\n  Object.entries(attributes).forEach((_ref) => {\n    let [name, value] = _ref;\n    return attributeExpression(node, {\n      name\n    }, value);\n  });\n}\n/**\n * Remove all the attributes provided\n * @param   {HTMLElement} node - target node\n * @param   {Object} newAttributes - object containing all the new attribute names\n * @param   {Object} oldAttributes - object containing all the old attribute names\n * @returns {undefined} sorry it's a void function :(\n */\n\n\nfunction removeAllAttributes(node, newAttributes, oldAttributes) {\n  const newKeys = newAttributes ? Object.keys(newAttributes) : [];\n  Object.keys(oldAttributes).filter(name => !newKeys.includes(name)).forEach(attribute => node.removeAttribute(attribute));\n}\n/**\n * This methods handles the DOM attributes updates\n * @param   {HTMLElement} node - target node\n * @param   {Object} expression - expression object\n * @param   {string} expression.name - attribute name\n * @param   {*} value - new expression value\n * @param   {*} oldValue - the old expression cached value\n * @returns {undefined}\n */\n\n\nfunction attributeExpression(node, _ref2, value, oldValue) {\n  let {\n    name\n  } = _ref2;\n\n  // is it a spread operator? {...attributes}\n  if (!name) {\n    if (oldValue) {\n      // remove all the old attributes\n      removeAllAttributes(node, value, oldValue);\n    } // is the value still truthy?\n\n\n    if (value) {\n      setAllAttributes(node, value);\n    }\n\n    return;\n  } // handle boolean attributes\n\n\n  if (!isNativeHtmlProperty(name) && (isBoolean(value) || isObject(value) || isFunction(value))) {\n    node[name] = value;\n  }\n\n  node[getMethod(value)](name, normalizeValue(name, value));\n}\n/**\n * Get the attribute modifier method\n * @param   {*} value - if truthy we return `setAttribute` othewise `removeAttribute`\n * @returns {string} the node attribute modifier method name\n */\n\nfunction getMethod(value) {\n  return isNil(value) || value === false || value === '' || isObject(value) || isFunction(value) ? REMOVE_ATTRIBUTE : SET_ATTIBUTE;\n}\n/**\n * Get the value as string\n * @param   {string} name - attribute name\n * @param   {*} value - user input value\n * @returns {string} input value as string\n */\n\n\nfunction normalizeValue(name, value) {\n  // be sure that expressions like selected={ true } will be always rendered as selected='selected'\n  if (value === true) return name;\n  return value;\n}\n\nconst RE_EVENTS_PREFIX = /^on/;\n\nconst getCallbackAndOptions = value => Array.isArray(value) ? value : [value, false]; // see also https://medium.com/@WebReflection/dom-handleevent-a-cross-platform-standard-since-year-2000-5bf17287fd38\n\n\nconst EventListener = {\n  handleEvent(event) {\n    this[event.type](event);\n  }\n\n};\nconst ListenersWeakMap = new WeakMap();\n\nconst createListener = node => {\n  const listener = Object.create(EventListener);\n  ListenersWeakMap.set(node, listener);\n  return listener;\n};\n/**\n * Set a new event listener\n * @param   {HTMLElement} node - target node\n * @param   {Object} expression - expression object\n * @param   {string} expression.name - event name\n * @param   {*} value - new expression value\n * @returns {value} the callback just received\n */\n\n\nfunction eventExpression(node, _ref, value) {\n  let {\n    name\n  } = _ref;\n  const normalizedEventName = name.replace(RE_EVENTS_PREFIX, '');\n  const eventListener = ListenersWeakMap.get(node) || createListener(node);\n  const [callback, options] = getCallbackAndOptions(value);\n  const handler = eventListener[normalizedEventName];\n  const mustRemoveEvent = handler && !callback;\n  const mustAddEvent = callback && !handler;\n\n  if (mustRemoveEvent) {\n    node.removeEventListener(normalizedEventName, eventListener);\n  }\n\n  if (mustAddEvent) {\n    node.addEventListener(normalizedEventName, eventListener, options);\n  }\n\n  eventListener[normalizedEventName] = callback;\n}\n\n/**\n * Normalize the user value in order to render a empty string in case of falsy values\n * @param   {*} value - user input value\n * @returns {string} hopefully a string\n */\n\nfunction normalizeStringValue(value) {\n  return isNil(value) ? '' : value;\n}\n\n/**\n * Get the the target text node to update or create one from of a comment node\n * @param   {HTMLElement} node - any html element containing childNodes\n * @param   {number} childNodeIndex - index of the text node in the childNodes list\n * @returns {HTMLTextNode} the text node to update\n */\n\nconst getTextNode = (node, childNodeIndex) => {\n  const target = node.childNodes[childNodeIndex];\n\n  if (target.nodeType === Node.COMMENT_NODE) {\n    const textNode = document.createTextNode('');\n    node.replaceChild(textNode, target);\n    return textNode;\n  }\n\n  return target;\n};\n/**\n * This methods handles a simple text expression update\n * @param   {HTMLElement} node - target node\n * @param   {Object} data - expression object\n * @param   {*} value - new expression value\n * @returns {undefined}\n */\n\nfunction textExpression(node, data, value) {\n  node.data = normalizeStringValue(value);\n}\n\n/**\n * This methods handles the input fileds value updates\n * @param   {HTMLElement} node - target node\n * @param   {Object} expression - expression object\n * @param   {*} value - new expression value\n * @returns {undefined}\n */\n\nfunction valueExpression(node, expression, value) {\n  node.value = normalizeStringValue(value);\n}\n\nvar expressions = {\n  [ATTRIBUTE]: attributeExpression,\n  [EVENT]: eventExpression,\n  [TEXT]: textExpression,\n  [VALUE]: valueExpression\n};\n\nconst Expression = Object.seal({\n  // Static props\n  // node: null,\n  // value: null,\n  // API methods\n\n  /**\n   * Mount the expression evaluating its initial value\n   * @param   {*} scope - argument passed to the expression to evaluate its current values\n   * @returns {Expression} self\n   */\n  mount(scope) {\n    // hopefully a pure function\n    this.value = this.evaluate(scope); // IO() DOM updates\n\n    apply(this, this.value);\n    return this;\n  },\n\n  /**\n   * Update the expression if its value changed\n   * @param   {*} scope - argument passed to the expression to evaluate its current values\n   * @returns {Expression} self\n   */\n  update(scope) {\n    // pure function\n    const value = this.evaluate(scope);\n\n    if (this.value !== value) {\n      // IO() DOM updates\n      apply(this, value);\n      this.value = value;\n    }\n\n    return this;\n  },\n\n  /**\n   * Expression teardown method\n   * @returns {Expression} self\n   */\n  unmount() {\n    // unmount only the event handling expressions\n    if (this.type === EVENT) apply(this, null);\n    return this;\n  }\n\n});\n/**\n * IO() function to handle the DOM updates\n * @param {Expression} expression - expression object\n * @param {*} value - current expression value\n * @returns {undefined}\n */\n\nfunction apply(expression, value) {\n  return expressions[expression.type](expression.node, expression, value, expression.value);\n}\n\nfunction create$2(node, data) {\n  return Object.assign({}, Expression, data, {\n    node: data.type === TEXT ? getTextNode(node, data.childNodeIndex) : node\n  });\n}\n\n/**\n * Create a flat object having as keys a list of methods that if dispatched will propagate\n * on the whole collection\n * @param   {Array} collection - collection to iterate\n * @param   {Array<string>} methods - methods to execute on each item of the collection\n * @param   {*} context - context returned by the new methods created\n * @returns {Object} a new object to simplify the the nested methods dispatching\n */\nfunction flattenCollectionMethods(collection, methods, context) {\n  return methods.reduce((acc, method) => {\n    return Object.assign({}, acc, {\n      [method]: scope => {\n        return collection.map(item => item[method](scope)) && context;\n      }\n    });\n  }, {});\n}\n\nfunction create$3(node, _ref) {\n  let {\n    expressions\n  } = _ref;\n  return Object.assign({}, flattenCollectionMethods(expressions.map(expression => create$2(node, expression)), ['mount', 'update', 'unmount']));\n}\n\n// Riot.js constants that can be used accross more modules\nconst COMPONENTS_IMPLEMENTATION_MAP = new Map(),\n      DOM_COMPONENT_INSTANCE_PROPERTY = Symbol('riot-component'),\n      PLUGINS_SET = new Set(),\n      IS_DIRECTIVE = 'is',\n      VALUE_ATTRIBUTE = 'value',\n      MOUNT_METHOD_KEY = 'mount',\n      UPDATE_METHOD_KEY = 'update',\n      UNMOUNT_METHOD_KEY = 'unmount',\n      SHOULD_UPDATE_KEY = 'shouldUpdate',\n      ON_BEFORE_MOUNT_KEY = 'onBeforeMount',\n      ON_MOUNTED_KEY = 'onMounted',\n      ON_BEFORE_UPDATE_KEY = 'onBeforeUpdate',\n      ON_UPDATED_KEY = 'onUpdated',\n      ON_BEFORE_UNMOUNT_KEY = 'onBeforeUnmount',\n      ON_UNMOUNTED_KEY = 'onUnmounted',\n      PROPS_KEY = 'props',\n      STATE_KEY = 'state',\n      SLOTS_KEY = 'slots',\n      ROOT_KEY = 'root',\n      IS_PURE_SYMBOL = Symbol.for('pure'),\n      PARENT_KEY_SYMBOL = Symbol('parent'),\n      ATTRIBUTES_KEY_SYMBOL = Symbol('attributes'),\n      TEMPLATE_KEY_SYMBOL = Symbol('template');\n\nvar globals = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  COMPONENTS_IMPLEMENTATION_MAP: COMPONENTS_IMPLEMENTATION_MAP,\n  DOM_COMPONENT_INSTANCE_PROPERTY: DOM_COMPONENT_INSTANCE_PROPERTY,\n  PLUGINS_SET: PLUGINS_SET,\n  IS_DIRECTIVE: IS_DIRECTIVE,\n  VALUE_ATTRIBUTE: VALUE_ATTRIBUTE,\n  MOUNT_METHOD_KEY: MOUNT_METHOD_KEY,\n  UPDATE_METHOD_KEY: UPDATE_METHOD_KEY,\n  UNMOUNT_METHOD_KEY: UNMOUNT_METHOD_KEY,\n  SHOULD_UPDATE_KEY: SHOULD_UPDATE_KEY,\n  ON_BEFORE_MOUNT_KEY: ON_BEFORE_MOUNT_KEY,\n  ON_MOUNTED_KEY: ON_MOUNTED_KEY,\n  ON_BEFORE_UPDATE_KEY: ON_BEFORE_UPDATE_KEY,\n  ON_UPDATED_KEY: ON_UPDATED_KEY,\n  ON_BEFORE_UNMOUNT_KEY: ON_BEFORE_UNMOUNT_KEY,\n  ON_UNMOUNTED_KEY: ON_UNMOUNTED_KEY,\n  PROPS_KEY: PROPS_KEY,\n  STATE_KEY: STATE_KEY,\n  SLOTS_KEY: SLOTS_KEY,\n  ROOT_KEY: ROOT_KEY,\n  IS_PURE_SYMBOL: IS_PURE_SYMBOL,\n  PARENT_KEY_SYMBOL: PARENT_KEY_SYMBOL,\n  ATTRIBUTES_KEY_SYMBOL: ATTRIBUTES_KEY_SYMBOL,\n  TEMPLATE_KEY_SYMBOL: TEMPLATE_KEY_SYMBOL\n});\n\nfunction extendParentScope(attributes, scope, parentScope) {\n  if (!attributes || !attributes.length) return parentScope;\n  const expressions = attributes.map(attr => Object.assign({}, attr, {\n    value: attr.evaluate(scope)\n  }));\n  return Object.assign(Object.create(parentScope || null), evaluateAttributeExpressions(expressions));\n} // this function is only meant to fix an edge case\n// https://github.com/riot/riot/issues/2842\n\n\nconst getRealParent = (scope, parentScope) => parentScope ? parentScope === scope ? scope[PARENT_KEY_SYMBOL] : parentScope : undefined;\n\nconst SlotBinding = Object.seal({\n  // dynamic binding properties\n  // node: null,\n  // name: null,\n  attributes: [],\n\n  // template: null,\n  getTemplateScope(scope, parentScope) {\n    return extendParentScope(this.attributes, scope, parentScope);\n  },\n\n  // API methods\n  mount(scope, parentScope) {\n    const templateData = scope.slots ? scope.slots.find((_ref) => {\n      let {\n        id\n      } = _ref;\n      return id === this.name;\n    }) : false;\n    const {\n      parentNode\n    } = this.node;\n    const realParent = getRealParent(scope, parentScope);\n    this.template = templateData && create$6(templateData.html, templateData.bindings).createDOM(parentNode);\n\n    if (this.template) {\n      this.template.mount(this.node, this.getTemplateScope(scope, realParent), realParent);\n      this.template.children = moveSlotInnerContent(this.node);\n    }\n\n    removeNode(this.node);\n    return this;\n  },\n\n  update(scope, parentScope) {\n    if (this.template) {\n      const realParent = getRealParent(scope, parentScope);\n      this.template.update(this.getTemplateScope(scope, realParent), realParent);\n    }\n\n    return this;\n  },\n\n  unmount(scope, parentScope, mustRemoveRoot) {\n    if (this.template) {\n      this.template.unmount(this.getTemplateScope(scope, parentScope), null, mustRemoveRoot);\n    }\n\n    return this;\n  }\n\n});\n/**\n * Move the inner content of the slots outside of them\n * @param   {HTMLNode} slot - slot node\n * @param   {HTMLElement} children - array to fill with the child nodes detected\n * @returns {HTMLElement[]} list of the node moved\n */\n\nfunction moveSlotInnerContent(slot, children) {\n  if (children === void 0) {\n    children = [];\n  }\n\n  const child = slot.firstChild;\n\n  if (child) {\n    slot.parentNode.insertBefore(child, slot);\n    return [child, ...moveSlotInnerContent(slot)];\n  }\n\n  return children;\n}\n/**\n * Create a single slot binding\n * @param   {HTMLElement} node - slot node\n * @param   {string} options.name - slot id\n * @returns {Object} Slot binding object\n */\n\n\nfunction createSlot(node, _ref2) {\n  let {\n    name,\n    attributes\n  } = _ref2;\n  return Object.assign({}, SlotBinding, {\n    attributes,\n    node,\n    name\n  });\n}\n\n/**\n * Create a new tag object if it was registered before, otherwise fallback to the simple\n * template chunk\n * @param   {Function} component - component factory function\n * @param   {Array<Object>} slots - array containing the slots markup\n * @param   {Array} attributes - dynamic attributes that will be received by the tag element\n * @returns {TagImplementation|TemplateChunk} a tag implementation or a template chunk as fallback\n */\n\nfunction getTag(component, slots, attributes) {\n  if (slots === void 0) {\n    slots = [];\n  }\n\n  if (attributes === void 0) {\n    attributes = [];\n  }\n\n  // if this tag was registered before we will return its implementation\n  if (component) {\n    return component({\n      slots,\n      attributes\n    });\n  } // otherwise we return a template chunk\n\n\n  return create$6(slotsToMarkup(slots), [...slotBindings(slots), {\n    // the attributes should be registered as binding\n    // if we fallback to a normal template chunk\n    expressions: attributes.map(attr => {\n      return Object.assign({\n        type: ATTRIBUTE\n      }, attr);\n    })\n  }]);\n}\n/**\n * Merge all the slots bindings into a single array\n * @param   {Array<Object>} slots - slots collection\n * @returns {Array<Bindings>} flatten bindings array\n */\n\n\nfunction slotBindings(slots) {\n  return slots.reduce((acc, _ref) => {\n    let {\n      bindings\n    } = _ref;\n    return acc.concat(bindings);\n  }, []);\n}\n/**\n * Merge all the slots together in a single markup string\n * @param   {Array<Object>} slots - slots collection\n * @returns {string} markup of all the slots in a single string\n */\n\n\nfunction slotsToMarkup(slots) {\n  return slots.reduce((acc, slot) => {\n    return acc + slot.html;\n  }, '');\n}\n\nconst TagBinding = Object.seal({\n  // dynamic binding properties\n  // node: null,\n  // evaluate: null,\n  // name: null,\n  // slots: null,\n  // tag: null,\n  // attributes: null,\n  // getComponent: null,\n  mount(scope) {\n    return this.update(scope);\n  },\n\n  update(scope, parentScope) {\n    const name = this.evaluate(scope); // simple update\n\n    if (name === this.name) {\n      this.tag.update(scope);\n    } else {\n      // unmount the old tag if it exists\n      this.unmount(scope, parentScope, true); // mount the new tag\n\n      this.name = name;\n      this.tag = getTag(this.getComponent(name), this.slots, this.attributes);\n      this.tag.mount(this.node, scope);\n    }\n\n    return this;\n  },\n\n  unmount(scope, parentScope, keepRootTag) {\n    if (this.tag) {\n      // keep the root tag\n      this.tag.unmount(keepRootTag);\n    }\n\n    return this;\n  }\n\n});\nfunction create$4(node, _ref2) {\n  let {\n    evaluate,\n    getComponent,\n    slots,\n    attributes\n  } = _ref2;\n  return Object.assign({}, TagBinding, {\n    node,\n    evaluate,\n    slots,\n    attributes,\n    getComponent\n  });\n}\n\nvar bindings = {\n  [IF]: create$1,\n  [SIMPLE]: create$3,\n  [EACH]: create,\n  [TAG]: create$4,\n  [SLOT]: createSlot\n};\n\n/**\n * Text expressions in a template tag will get childNodeIndex value normalized\n * depending on the position of the <template> tag offset\n * @param   {Expression[]} expressions - riot expressions array\n * @param   {number} textExpressionsOffset - offset of the <template> tag\n * @returns {Expression[]} expressions containing the text expressions normalized\n */\n\nfunction fixTextExpressionsOffset(expressions, textExpressionsOffset) {\n  return expressions.map(e => e.type === TEXT ? Object.assign({}, e, {\n    childNodeIndex: e.childNodeIndex + textExpressionsOffset\n  }) : e);\n}\n/**\n * Bind a new expression object to a DOM node\n * @param   {HTMLElement} root - DOM node where to bind the expression\n * @param   {Object} binding - binding data\n * @param   {number|null} templateTagOffset - if it's defined we need to fix the text expressions childNodeIndex offset\n * @returns {Binding} Binding object\n */\n\n\nfunction create$5(root, binding, templateTagOffset) {\n  const {\n    selector,\n    type,\n    redundantAttribute,\n    expressions\n  } = binding; // find the node to apply the bindings\n\n  const node = selector ? root.querySelector(selector) : root; // remove eventually additional attributes created only to select this node\n\n  if (redundantAttribute) node.removeAttribute(redundantAttribute);\n  const bindingExpressions = expressions || []; // init the binding\n\n  return (bindings[type] || bindings[SIMPLE])(node, Object.assign({}, binding, {\n    expressions: templateTagOffset && !selector ? fixTextExpressionsOffset(bindingExpressions, templateTagOffset) : bindingExpressions\n  }));\n}\n\nfunction createHTMLTree(html, root) {\n  const template = isTemplate(root) ? root : document.createElement('template');\n  template.innerHTML = html;\n  return template.content;\n} // for svg nodes we need a bit more work\n\n\nfunction createSVGTree(html, container) {\n  // create the SVGNode\n  const svgNode = container.ownerDocument.importNode(new window.DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\">${html}</svg>`, 'application/xml').documentElement, true);\n  return svgNode;\n}\n/**\n * Create the DOM that will be injected\n * @param {Object} root - DOM node to find out the context where the fragment will be created\n * @param   {string} html - DOM to create as string\n * @returns {HTMLDocumentFragment|HTMLElement} a new html fragment\n */\n\n\nfunction createDOMTree(root, html) {\n  if (isSvg(root)) return createSVGTree(html, root);\n  return createHTMLTree(html, root);\n}\n\n/**\n * Inject the DOM tree into a target node\n * @param   {HTMLElement} el - target element\n * @param   {HTMLFragment|SVGElement} dom - dom tree to inject\n * @returns {undefined}\n */\n\nfunction injectDOM(el, dom) {\n  switch (true) {\n    case isSvg(el):\n      moveChildren(dom, el);\n      break;\n\n    case isTemplate(el):\n      el.parentNode.replaceChild(dom, el);\n      break;\n\n    default:\n      el.appendChild(dom);\n  }\n}\n\n/**\n * Create the Template DOM skeleton\n * @param   {HTMLElement} el - root node where the DOM will be injected\n * @param   {string} html - markup that will be injected into the root node\n * @returns {HTMLFragment} fragment that will be injected into the root node\n */\n\nfunction createTemplateDOM(el, html) {\n  return html && (typeof html === 'string' ? createDOMTree(el, html) : html);\n}\n/**\n * Template Chunk model\n * @type {Object}\n */\n\n\nconst TemplateChunk = Object.freeze({\n  // Static props\n  // bindings: null,\n  // bindingsData: null,\n  // html: null,\n  // isTemplateTag: false,\n  // fragment: null,\n  // children: null,\n  // dom: null,\n  // el: null,\n\n  /**\n   * Create the template DOM structure that will be cloned on each mount\n   * @param   {HTMLElement} el - the root node\n   * @returns {TemplateChunk} self\n   */\n  createDOM(el) {\n    // make sure that the DOM gets created before cloning the template\n    this.dom = this.dom || createTemplateDOM(el, this.html);\n    return this;\n  },\n\n  // API methods\n\n  /**\n   * Attach the template to a DOM node\n   * @param   {HTMLElement} el - target DOM node\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @param   {Object} meta - meta properties needed to handle the <template> tags in loops\n   * @returns {TemplateChunk} self\n   */\n  mount(el, scope, parentScope, meta) {\n    if (meta === void 0) {\n      meta = {};\n    }\n\n    if (!el) throw new Error('Please provide DOM node to mount properly your template');\n    if (this.el) this.unmount(scope); // <template> tags require a bit more work\n    // the template fragment might be already created via meta outside of this call\n\n    const {\n      fragment,\n      children,\n      avoidDOMInjection\n    } = meta; // <template> bindings of course can not have a root element\n    // so we check the parent node to set the query selector bindings\n\n    const {\n      parentNode\n    } = children ? children[0] : el;\n    const isTemplateTag = isTemplate(el);\n    const templateTagOffset = isTemplateTag ? Math.max(Array.from(parentNode.childNodes).indexOf(el), 0) : null;\n    this.isTemplateTag = isTemplateTag; // create the DOM if it wasn't created before\n\n    this.createDOM(el);\n\n    if (this.dom) {\n      // create the new template dom fragment if it want already passed in via meta\n      this.fragment = fragment || this.dom.cloneNode(true);\n    } // store root node\n    // notice that for template tags the root note will be the parent tag\n\n\n    this.el = this.isTemplateTag ? parentNode : el; // create the children array only for the <template> fragments\n\n    this.children = this.isTemplateTag ? children || Array.from(this.fragment.childNodes) : null; // inject the DOM into the el only if a fragment is available\n\n    if (!avoidDOMInjection && this.fragment) injectDOM(el, this.fragment); // create the bindings\n\n    this.bindings = this.bindingsData.map(binding => create$5(this.el, binding, templateTagOffset));\n    this.bindings.forEach(b => b.mount(scope, parentScope));\n    return this;\n  },\n\n  /**\n   * Update the template with fresh data\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @returns {TemplateChunk} self\n   */\n  update(scope, parentScope) {\n    this.bindings.forEach(b => b.update(scope, parentScope));\n    return this;\n  },\n\n  /**\n   * Remove the template from the node where it was initially mounted\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @param   {boolean|null} mustRemoveRoot - if true remove the root element,\n   * if false or undefined clean the root tag content, if null don't touch the DOM\n   * @returns {TemplateChunk} self\n   */\n  unmount(scope, parentScope, mustRemoveRoot) {\n    if (this.el) {\n      this.bindings.forEach(b => b.unmount(scope, parentScope, mustRemoveRoot));\n\n      switch (true) {\n        // <template> tags should be treated a bit differently\n        // we need to clear their children only if it's explicitly required by the caller\n        // via mustRemoveRoot !== null\n        case this.children && mustRemoveRoot !== null:\n          clearChildren(this.children);\n          break;\n        // remove the root node only if the mustRemoveRoot === true\n\n        case mustRemoveRoot === true:\n          removeNode(this.el);\n          break;\n        // otherwise we clean the node children\n\n        case mustRemoveRoot !== null:\n          cleanNode(this.el);\n          break;\n      }\n\n      this.el = null;\n    }\n\n    return this;\n  },\n\n  /**\n   * Clone the template chunk\n   * @returns {TemplateChunk} a clone of this object resetting the this.el property\n   */\n  clone() {\n    return Object.assign({}, this, {\n      el: null\n    });\n  }\n\n});\n/**\n * Create a template chunk wiring also the bindings\n * @param   {string|HTMLElement} html - template string\n * @param   {Array} bindings - bindings collection\n * @returns {TemplateChunk} a new TemplateChunk copy\n */\n\nfunction create$6(html, bindings) {\n  if (bindings === void 0) {\n    bindings = [];\n  }\n\n  return Object.assign({}, TemplateChunk, {\n    html,\n    bindingsData: bindings\n  });\n}\n\n/**\n * Method used to bind expressions to a DOM node\n * @param   {string|HTMLElement} html - your static template html structure\n * @param   {Array} bindings - list of the expressions to bind to update the markup\n * @returns {TemplateChunk} a new TemplateChunk object having the `update`,`mount`, `unmount` and `clone` methods\n *\n * @example\n *\n * riotDOMBindings\n *  .template(\n *   `<div expr0><!----></div><div><p expr1><!----><section expr2></section></p>`,\n *   [\n *     {\n *       selector: '[expr0]',\n *       redundantAttribute: 'expr0',\n *       expressions: [\n *         {\n *           type: expressionTypes.TEXT,\n *           childNodeIndex: 0,\n *           evaluate(scope) {\n *             return scope.time;\n *           },\n *         },\n *       ],\n *     },\n *     {\n *       selector: '[expr1]',\n *       redundantAttribute: 'expr1',\n *       expressions: [\n *         {\n *           type: expressionTypes.TEXT,\n *           childNodeIndex: 0,\n *           evaluate(scope) {\n *             return scope.name;\n *           },\n *         },\n *         {\n *           type: 'attribute',\n *           name: 'style',\n *           evaluate(scope) {\n *             return scope.style;\n *           },\n *         },\n *       ],\n *     },\n *     {\n *       selector: '[expr2]',\n *       redundantAttribute: 'expr2',\n *       type: bindingTypes.IF,\n *       evaluate(scope) {\n *         return scope.isVisible;\n *       },\n *       template: riotDOMBindings.template('hello there'),\n *     },\n *   ]\n * )\n */\n\nvar DOMBindings = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  template: create$6,\n  createBinding: create$5,\n  createExpression: create$2,\n  bindingTypes: bindingTypes,\n  expressionTypes: expressionTypes\n});\n\nfunction noop() {\n  return this;\n}\n/**\n * Autobind the methods of a source object to itself\n * @param   {Object} source - probably a riot tag instance\n * @param   {Array<string>} methods - list of the methods to autobind\n * @returns {Object} the original object received\n */\n\nfunction autobindMethods(source, methods) {\n  methods.forEach(method => {\n    source[method] = source[method].bind(source);\n  });\n  return source;\n}\n/**\n * Call the first argument received only if it's a function otherwise return it as it is\n * @param   {*} source - anything\n * @returns {*} anything\n */\n\nfunction callOrAssign(source) {\n  return isFunction(source) ? source.prototype && source.prototype.constructor ? new source() : source() : source;\n}\n\n/**\n * Helper function to set an immutable property\n * @param   {Object} source - object where the new property will be set\n * @param   {string} key - object key where the new property will be stored\n * @param   {*} value - value of the new property\n * @param   {Object} options - set the propery overriding the default options\n * @returns {Object} - the original object modified\n */\nfunction defineProperty(source, key, value, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  /* eslint-disable fp/no-mutating-methods */\n  Object.defineProperty(source, key, Object.assign({\n    value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options));\n  /* eslint-enable fp/no-mutating-methods */\n\n  return source;\n}\n/**\n * Define multiple properties on a target object\n * @param   {Object} source - object where the new properties will be set\n * @param   {Object} properties - object containing as key pair the key + value properties\n * @param   {Object} options - set the propery overriding the default options\n * @returns {Object} the original object modified\n */\n\nfunction defineProperties(source, properties, options) {\n  Object.entries(properties).forEach((_ref) => {\n    let [key, value] = _ref;\n    defineProperty(source, key, value, options);\n  });\n  return source;\n}\n/**\n * Define default properties if they don't exist on the source object\n * @param   {Object} source - object that will receive the default properties\n * @param   {Object} defaults - object containing additional optional keys\n * @returns {Object} the original object received enhanced\n */\n\nfunction defineDefaults(source, defaults) {\n  Object.entries(defaults).forEach((_ref2) => {\n    let [key, value] = _ref2;\n    if (!source[key]) source[key] = value;\n  });\n  return source;\n}\n\n/**\n * Converts any DOM node/s to a loopable array\n * @param   { HTMLElement|NodeList } els - single html element or a node list\n * @returns { Array } always a loopable object\n */\nfunction domToArray(els) {\n  // can this object be already looped?\n  if (!Array.isArray(els)) {\n    // is it a node list?\n    if (/^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(Object.prototype.toString.call(els)) && typeof els.length === 'number') return Array.from(els);else // if it's a single node\n      // it will be returned as \"array\" with one single entry\n      return [els];\n  } // this object could be looped out of the box\n\n\n  return els;\n}\n\n/**\n * Simple helper to find DOM nodes returning them as array like loopable object\n * @param   { string|DOMNodeList } selector - either the query or the DOM nodes to arraify\n * @param   { HTMLElement }        ctx      - context defining where the query will search for the DOM nodes\n * @returns { Array } DOM nodes found as array\n */\n\nfunction $(selector, ctx) {\n  return domToArray(typeof selector === 'string' ? (ctx || document).querySelectorAll(selector) : selector);\n}\n\n/**\n * Normalize the return values, in case of a single value we avoid to return an array\n * @param   { Array } values - list of values we want to return\n * @returns { Array|string|boolean } either the whole list of values or the single one found\n * @private\n */\n\nconst normalize = values => values.length === 1 ? values[0] : values;\n/**\n * Parse all the nodes received to get/remove/check their attributes\n * @param   { HTMLElement|NodeList|Array } els    - DOM node/s to parse\n * @param   { string|Array }               name   - name or list of attributes\n * @param   { string }                     method - method that will be used to parse the attributes\n * @returns { Array|string } result of the parsing in a list or a single value\n * @private\n */\n\n\nfunction parseNodes(els, name, method) {\n  const names = typeof name === 'string' ? [name] : name;\n  return normalize(domToArray(els).map(el => {\n    return normalize(names.map(n => el[method](n)));\n  }));\n}\n/**\n * Set any attribute on a single or a list of DOM nodes\n * @param   { HTMLElement|NodeList|Array } els   - DOM node/s to parse\n * @param   { string|Object }              name  - either the name of the attribute to set\n *                                                 or a list of properties as object key - value\n * @param   { string }                     value - the new value of the attribute (optional)\n * @returns { HTMLElement|NodeList|Array } the original array of elements passed to this function\n *\n * @example\n *\n * import { set } from 'bianco.attr'\n *\n * const img = document.createElement('img')\n *\n * set(img, 'width', 100)\n *\n * // or also\n * set(img, {\n *   width: 300,\n *   height: 300\n * })\n *\n */\n\n\nfunction set(els, name, value) {\n  const attrs = typeof name === 'object' ? name : {\n    [name]: value\n  };\n  const props = Object.keys(attrs);\n  domToArray(els).forEach(el => {\n    props.forEach(prop => el.setAttribute(prop, attrs[prop]));\n  });\n  return els;\n}\n/**\n * Get any attribute from a single or a list of DOM nodes\n * @param   { HTMLElement|NodeList|Array } els   - DOM node/s to parse\n * @param   { string|Array }               name  - name or list of attributes to get\n * @returns { Array|string } list of the attributes found\n *\n * @example\n *\n * import { get } from 'bianco.attr'\n *\n * const img = document.createElement('img')\n *\n * get(img, 'width') // => '200'\n *\n * // or also\n * get(img, ['width', 'height']) // => ['200', '300']\n *\n * // or also\n * get([img1, img2], ['width', 'height']) // => [['200', '300'], ['500', '200']]\n */\n\nfunction get(els, name) {\n  return parseNodes(els, name, 'getAttribute');\n}\n\nconst CSS_BY_NAME = new Map();\nconst STYLE_NODE_SELECTOR = 'style[riot]'; // memoized curried function\n\nconst getStyleNode = (style => {\n  return () => {\n    // lazy evaluation:\n    // if this function was already called before\n    // we return its cached result\n    if (style) return style; // create a new style element or use an existing one\n    // and cache it internally\n\n    style = $(STYLE_NODE_SELECTOR)[0] || document.createElement('style');\n    set(style, 'type', 'text/css');\n    /* istanbul ignore next */\n\n    if (!style.parentNode) document.head.appendChild(style);\n    return style;\n  };\n})();\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\n\n\nvar cssManager = {\n  CSS_BY_NAME,\n\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { string } name - if it's passed we will map the css to a tagname\n   * @param { string } css - css string\n   * @returns {Object} self\n   */\n  add(name, css) {\n    if (!CSS_BY_NAME.has(name)) {\n      CSS_BY_NAME.set(name, css);\n      this.inject();\n    }\n\n    return this;\n  },\n\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   * @returns {Object} self\n   */\n  inject() {\n    getStyleNode().innerHTML = [...CSS_BY_NAME.values()].join('\\n');\n    return this;\n  },\n\n  /**\n   * Remove a tag style from the DOM\n   * @param {string} name a registered tagname\n   * @returns {Object} self\n   */\n  remove(name) {\n    if (CSS_BY_NAME.has(name)) {\n      CSS_BY_NAME.delete(name);\n      this.inject();\n    }\n\n    return this;\n  }\n\n};\n\n/**\n * Function to curry any javascript method\n * @param   {Function}  fn - the target function we want to curry\n * @param   {...[args]} acc - initial arguments\n * @returns {Function|*} it will return a function until the target function\n *                       will receive all of its arguments\n */\nfunction curry(fn) {\n  for (var _len = arguments.length, acc = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    acc[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args = [...acc, ...args];\n    return args.length < fn.length ? curry(fn, ...args) : fn(...args);\n  };\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   {HTMLElement} element - DOM node we want to inspect\n * @returns {string} name to identify this dom node in riot\n */\n\nfunction getName(element) {\n  return get(element, IS_DIRECTIVE) || element.tagName.toLowerCase();\n}\n\nconst COMPONENT_CORE_HELPERS = Object.freeze({\n  // component helpers\n  $(selector) {\n    return $(selector, this.root)[0];\n  },\n\n  $$(selector) {\n    return $(selector, this.root);\n  }\n\n});\nconst PURE_COMPONENT_API = Object.freeze({\n  [MOUNT_METHOD_KEY]: noop,\n  [UPDATE_METHOD_KEY]: noop,\n  [UNMOUNT_METHOD_KEY]: noop\n});\nconst COMPONENT_LIFECYCLE_METHODS = Object.freeze({\n  [SHOULD_UPDATE_KEY]: noop,\n  [ON_BEFORE_MOUNT_KEY]: noop,\n  [ON_MOUNTED_KEY]: noop,\n  [ON_BEFORE_UPDATE_KEY]: noop,\n  [ON_UPDATED_KEY]: noop,\n  [ON_BEFORE_UNMOUNT_KEY]: noop,\n  [ON_UNMOUNTED_KEY]: noop\n});\nconst MOCKED_TEMPLATE_INTERFACE = Object.assign({}, PURE_COMPONENT_API, {\n  clone: noop,\n  createDOM: noop\n});\n/**\n * Evaluate the component properties either from its real attributes or from its initial user properties\n * @param   {HTMLElement} element - component root\n * @param   {Object}  initialProps - initial props\n * @returns {Object} component props key value pairs\n */\n\nfunction evaluateInitialProps(element, initialProps) {\n  if (initialProps === void 0) {\n    initialProps = {};\n  }\n\n  return Object.assign({}, DOMattributesToObject(element), callOrAssign(initialProps));\n}\n/**\n * Bind a DOM node to its component object\n * @param   {HTMLElement} node - html node mounted\n * @param   {Object} component - Riot.js component object\n * @returns {Object} the component object received as second argument\n */\n\n\nconst bindDOMNodeToComponentObject = (node, component) => node[DOM_COMPONENT_INSTANCE_PROPERTY] = component;\n/**\n * Wrap the Riot.js core API methods using a mapping function\n * @param   {Function} mapFunction - lifting function\n * @returns {Object} an object having the { mount, update, unmount } functions\n */\n\n\nfunction createCoreAPIMethods(mapFunction) {\n  return [MOUNT_METHOD_KEY, UPDATE_METHOD_KEY, UNMOUNT_METHOD_KEY].reduce((acc, method) => {\n    acc[method] = mapFunction(method);\n    return acc;\n  }, {});\n}\n/**\n * Factory function to create the component templates only once\n * @param   {Function} template - component template creation function\n * @param   {Object} components - object containing the nested components\n * @returns {TemplateChunk} template chunk object\n */\n\n\nfunction componentTemplateFactory(template, components) {\n  return template(create$6, expressionTypes, bindingTypes, name => {\n    return components[name] || COMPONENTS_IMPLEMENTATION_MAP.get(name);\n  });\n}\n/**\n * Create a pure component\n * @param   {Function} pureFactoryFunction - pure component factory function\n * @param   {Array} options.slots - component slots\n * @param   {Array} options.attributes - component attributes\n * @param   {Array} options.template - template factory function\n * @param   {Array} options.template - template factory function\n * @param   {any} options.props - initial component properties\n * @returns {Object} pure component object\n */\n\n\nfunction createPureComponent(pureFactoryFunction, _ref) {\n  let {\n    slots,\n    attributes,\n    props,\n    css,\n    template\n  } = _ref;\n  if (template) panic('Pure components can not have html');\n  if (css) panic('Pure components do not have css');\n  const component = defineDefaults(pureFactoryFunction({\n    slots,\n    attributes,\n    props\n  }), PURE_COMPONENT_API);\n  return createCoreAPIMethods(method => function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // intercept the mount calls to bind the DOM node to the pure object created\n    // see also https://github.com/riot/riot/issues/2806\n    if (method === MOUNT_METHOD_KEY) {\n      const [el] = args;\n      bindDOMNodeToComponentObject(el, component);\n    }\n\n    component[method](...args);\n    return component;\n  });\n}\n/**\n * Create the component interface needed for the @riotjs/dom-bindings tag bindings\n * @param   {string} options.css - component css\n * @param   {Function} options.template - functon that will return the dom-bindings template function\n * @param   {Object} options.exports - component interface\n * @param   {string} options.name - component name\n * @returns {Object} component like interface\n */\n\n\nfunction createComponent(_ref2) {\n  let {\n    css,\n    template,\n    exports,\n    name\n  } = _ref2;\n  const templateFn = template ? componentTemplateFactory(template, exports ? createSubcomponents(exports.components) : {}) : MOCKED_TEMPLATE_INTERFACE;\n  return (_ref3) => {\n    let {\n      slots,\n      attributes,\n      props\n    } = _ref3;\n    // pure components rendering will be managed by the end user\n    if (exports && exports[IS_PURE_SYMBOL]) return createPureComponent(exports, {\n      slots,\n      attributes,\n      props,\n      css,\n      template\n    });\n    const componentAPI = callOrAssign(exports) || {};\n    const component = defineComponent({\n      css,\n      template: templateFn,\n      componentAPI,\n      name\n    })({\n      slots,\n      attributes,\n      props\n    }); // notice that for the components create via tag binding\n    // we need to invert the mount (state/parentScope) arguments\n    // the template bindings will only forward the parentScope updates\n    // and never deal with the component state\n\n    return {\n      mount(element, parentScope, state) {\n        return component.mount(element, state, parentScope);\n      },\n\n      update(parentScope, state) {\n        return component.update(state, parentScope);\n      },\n\n      unmount(preserveRoot) {\n        return component.unmount(preserveRoot);\n      }\n\n    };\n  };\n}\n/**\n * Component definition function\n * @param   {Object} implementation - the componen implementation will be generated via compiler\n * @param   {Object} component - the component initial properties\n * @returns {Object} a new component implementation object\n */\n\nfunction defineComponent(_ref4) {\n  let {\n    css,\n    template,\n    componentAPI,\n    name\n  } = _ref4;\n  // add the component css into the DOM\n  if (css && name) cssManager.add(name, css);\n  return curry(enhanceComponentAPI)(defineProperties( // set the component defaults without overriding the original component API\n  defineDefaults(componentAPI, Object.assign({}, COMPONENT_LIFECYCLE_METHODS, {\n    [STATE_KEY]: {}\n  })), Object.assign({\n    // defined during the component creation\n    [SLOTS_KEY]: null,\n    [ROOT_KEY]: null\n  }, COMPONENT_CORE_HELPERS, {\n    name,\n    css,\n    template\n  })));\n}\n/**\n * Create the bindings to update the component attributes\n * @param   {HTMLElement} node - node where we will bind the expressions\n * @param   {Array} attributes - list of attribute bindings\n * @returns {TemplateChunk} - template bindings object\n */\n\nfunction createAttributeBindings(node, attributes) {\n  if (attributes === void 0) {\n    attributes = [];\n  }\n\n  const expressions = attributes.map(a => create$2(node, a));\n  const binding = {};\n  return Object.assign(binding, Object.assign({\n    expressions\n  }, createCoreAPIMethods(method => scope => {\n    expressions.forEach(e => e[method](scope));\n    return binding;\n  })));\n}\n/**\n * Create the subcomponents that can be included inside a tag in runtime\n * @param   {Object} components - components imported in runtime\n * @returns {Object} all the components transformed into Riot.Component factory functions\n */\n\n\nfunction createSubcomponents(components) {\n  if (components === void 0) {\n    components = {};\n  }\n\n  return Object.entries(callOrAssign(components)).reduce((acc, _ref5) => {\n    let [key, value] = _ref5;\n    acc[camelToDashCase(key)] = createComponent(value);\n    return acc;\n  }, {});\n}\n/**\n * Run the component instance through all the plugins set by the user\n * @param   {Object} component - component instance\n * @returns {Object} the component enhanced by the plugins\n */\n\n\nfunction runPlugins(component) {\n  return [...PLUGINS_SET].reduce((c, fn) => fn(c) || c, component);\n}\n/**\n * Compute the component current state merging it with its previous state\n * @param   {Object} oldState - previous state object\n * @param   {Object} newState - new state givent to the `update` call\n * @returns {Object} new object state\n */\n\n\nfunction computeState(oldState, newState) {\n  return Object.assign({}, oldState, callOrAssign(newState));\n}\n/**\n * Add eventually the \"is\" attribute to link this DOM node to its css\n * @param {HTMLElement} element - target root node\n * @param {string} name - name of the component mounted\n * @returns {undefined} it's a void function\n */\n\n\nfunction addCssHook(element, name) {\n  if (getName(element) !== name) {\n    set(element, IS_DIRECTIVE, name);\n  }\n}\n/**\n * Component creation factory function that will enhance the user provided API\n * @param   {Object} component - a component implementation previously defined\n * @param   {Array} options.slots - component slots generated via riot compiler\n * @param   {Array} options.attributes - attribute expressions generated via riot compiler\n * @returns {Riot.Component} a riot component instance\n */\n\n\nfunction enhanceComponentAPI(component, _ref6) {\n  let {\n    slots,\n    attributes,\n    props\n  } = _ref6;\n  return autobindMethods(runPlugins(defineProperties(Object.create(component), {\n    mount(element, state, parentScope) {\n      if (state === void 0) {\n        state = {};\n      }\n\n      this[ATTRIBUTES_KEY_SYMBOL] = createAttributeBindings(element, attributes).mount(parentScope);\n      defineProperty(this, PROPS_KEY, Object.freeze(Object.assign({}, evaluateInitialProps(element, props), evaluateAttributeExpressions(this[ATTRIBUTES_KEY_SYMBOL].expressions))));\n      this[STATE_KEY] = computeState(this[STATE_KEY], state);\n      this[TEMPLATE_KEY_SYMBOL] = this.template.createDOM(element).clone(); // link this object to the DOM node\n\n      bindDOMNodeToComponentObject(element, this); // add eventually the 'is' attribute\n\n      component.name && addCssHook(element, component.name); // define the root element\n\n      defineProperty(this, ROOT_KEY, element); // define the slots array\n\n      defineProperty(this, SLOTS_KEY, slots); // before mount lifecycle event\n\n      this[ON_BEFORE_MOUNT_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      this[PARENT_KEY_SYMBOL] = parentScope; // mount the template\n\n      this[TEMPLATE_KEY_SYMBOL].mount(element, this, parentScope);\n      this[ON_MOUNTED_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      return this;\n    },\n\n    update(state, parentScope) {\n      if (state === void 0) {\n        state = {};\n      }\n\n      if (parentScope) {\n        this[PARENT_KEY_SYMBOL] = parentScope;\n        this[ATTRIBUTES_KEY_SYMBOL].update(parentScope);\n      }\n\n      const newProps = evaluateAttributeExpressions(this[ATTRIBUTES_KEY_SYMBOL].expressions);\n      if (this[SHOULD_UPDATE_KEY](newProps, this[PROPS_KEY]) === false) return;\n      defineProperty(this, PROPS_KEY, Object.freeze(Object.assign({}, this[PROPS_KEY], newProps)));\n      this[STATE_KEY] = computeState(this[STATE_KEY], state);\n      this[ON_BEFORE_UPDATE_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      this[TEMPLATE_KEY_SYMBOL].update(this, this[PARENT_KEY_SYMBOL]);\n      this[ON_UPDATED_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      return this;\n    },\n\n    unmount(preserveRoot) {\n      this[ON_BEFORE_UNMOUNT_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      this[ATTRIBUTES_KEY_SYMBOL].unmount(); // if the preserveRoot is null the template html will be left untouched\n      // in that case the DOM cleanup will happen differently from a parent node\n\n      this[TEMPLATE_KEY_SYMBOL].unmount(this, this[PARENT_KEY_SYMBOL], preserveRoot === null ? null : !preserveRoot);\n      this[ON_UNMOUNTED_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      return this;\n    }\n\n  })), Object.keys(component).filter(prop => isFunction(component[prop])));\n}\n/**\n * Component initialization function starting from a DOM node\n * @param   {HTMLElement} element - element to upgrade\n * @param   {Object} initialProps - initial component properties\n * @param   {string} componentName - component id\n * @returns {Object} a new component instance bound to a DOM node\n */\n\nfunction mountComponent(element, initialProps, componentName) {\n  const name = componentName || getName(element);\n  if (!COMPONENTS_IMPLEMENTATION_MAP.has(name)) panic(`The component named \"${name}\" was never registered`);\n  const component = COMPONENTS_IMPLEMENTATION_MAP.get(name)({\n    props: initialProps\n  });\n  return component.mount(element);\n}\n\n/**\n * Similar to compose but performs from left-to-right function composition.<br/>\n * {@link https://30secondsofcode.org/function#composeright see also}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\n/**\n * Performs right-to-left function composition.<br/>\n * Use Array.prototype.reduce() to perform right-to-left function composition.<br/>\n * The last (rightmost) function can accept one or more arguments; the remaining functions must be unary.<br/>\n * {@link https://30secondsofcode.org/function#compose original source code}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\n\nfunction compose() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return fns.reduce((f, g) => function () {\n    return f(g(...arguments));\n  });\n}\n\nconst {\n  DOM_COMPONENT_INSTANCE_PROPERTY: DOM_COMPONENT_INSTANCE_PROPERTY$1,\n  COMPONENTS_IMPLEMENTATION_MAP: COMPONENTS_IMPLEMENTATION_MAP$1,\n  PLUGINS_SET: PLUGINS_SET$1\n} = globals;\n/**\n * Riot public api\n */\n\n/**\n * Register a custom tag by name\n * @param   {string} name - component name\n * @param   {Object} implementation - tag implementation\n * @returns {Map} map containing all the components implementations\n */\n\nfunction register(name, _ref) {\n  let {\n    css,\n    template,\n    exports\n  } = _ref;\n  if (COMPONENTS_IMPLEMENTATION_MAP$1.has(name)) panic(`The component \"${name}\" was already registered`);\n  COMPONENTS_IMPLEMENTATION_MAP$1.set(name, createComponent({\n    name,\n    css,\n    template,\n    exports\n  }));\n  return COMPONENTS_IMPLEMENTATION_MAP$1;\n}\n/**\n * Unregister a riot web component\n * @param   {string} name - component name\n * @returns {Map} map containing all the components implementations\n */\n\nfunction unregister(name) {\n  if (!COMPONENTS_IMPLEMENTATION_MAP$1.has(name)) panic(`The component \"${name}\" was never registered`);\n  COMPONENTS_IMPLEMENTATION_MAP$1.delete(name);\n  cssManager.remove(name);\n  return COMPONENTS_IMPLEMENTATION_MAP$1;\n}\n/**\n * Mounting function that will work only for the components that were globally registered\n * @param   {string|HTMLElement} selector - query for the selection or a DOM element\n * @param   {Object} initialProps - the initial component properties\n * @param   {string} name - optional component name\n * @returns {Array} list of nodes upgraded\n */\n\nfunction mount(selector, initialProps, name) {\n  return $(selector).map(element => mountComponent(element, initialProps, name));\n}\n/**\n * Sweet unmounting helper function for the DOM node mounted manually by the user\n * @param   {string|HTMLElement} selector - query for the selection or a DOM element\n * @param   {boolean|null} keepRootElement - if true keep the root element\n * @returns {Array} list of nodes unmounted\n */\n\nfunction unmount(selector, keepRootElement) {\n  return $(selector).map(element => {\n    if (element[DOM_COMPONENT_INSTANCE_PROPERTY$1]) {\n      element[DOM_COMPONENT_INSTANCE_PROPERTY$1].unmount(keepRootElement);\n    }\n\n    return element;\n  });\n}\n/**\n * Define a riot plugin\n * @param   {Function} plugin - function that will receive all the components created\n * @returns {Set} the set containing all the plugins installed\n */\n\nfunction install(plugin) {\n  if (!isFunction(plugin)) panic('Plugins must be of type function');\n  if (PLUGINS_SET$1.has(plugin)) panic('This plugin was already installed');\n  PLUGINS_SET$1.add(plugin);\n  return PLUGINS_SET$1;\n}\n/**\n * Uninstall a riot plugin\n * @param   {Function} plugin - plugin previously installed\n * @returns {Set} the set containing all the plugins installed\n */\n\nfunction uninstall(plugin) {\n  if (!PLUGINS_SET$1.has(plugin)) panic('This plugin was never installed');\n  PLUGINS_SET$1.delete(plugin);\n  return PLUGINS_SET$1;\n}\n/**\n * Helper method to create component without relying on the registered ones\n * @param   {Object} implementation - component implementation\n * @returns {Function} function that will allow you to mount a riot component on a DOM node\n */\n\nfunction component(implementation) {\n  return function (el, props, _temp) {\n    let {\n      slots,\n      attributes,\n      parentScope\n    } = _temp === void 0 ? {} : _temp;\n    return compose(c => c.mount(el, parentScope), c => c({\n      props,\n      slots,\n      attributes\n    }), createComponent)(implementation);\n  };\n}\n/**\n * Lift a riot component Interface into a pure riot object\n * @param   {Function} func - RiotPureComponent factory function\n * @returns {Function} the lifted original function received as argument\n */\n\nfunction pure(func) {\n  if (!isFunction(func)) panic('riot.pure accepts only arguments of type \"function\"');\n  func[IS_PURE_SYMBOL] = true;\n  return func;\n}\n/** @type {string} current riot version */\n\nconst version = 'v4.13.4'; // expose some internal stuff that might be used from external tools\n\nconst __ = {\n  cssManager,\n  DOMBindings,\n  createComponent,\n  defineComponent,\n  globals\n};\n\nexport { __, component, install, mount, pure, register, uninstall, unmount, unregister, version };\n","import { component, pure } from 'riot'\n\n// this object will contain all the components implementations lazy loaded\nconst cache = new WeakMap()\n\n// expose the cache as static property\nlazy.cache = cache\n\n// static attribute in case we want to just export a lazy riot component\nlazy.export = function lazyExport(Loader, Component) {\n  // it could be that the user don't want to use a loader for whatever reason\n  const hasLoader = Loader && Component\n  const LazyComponent = hasLoader ? Component : Loader\n  const load = () => typeof LazyComponent === 'function' ? LazyComponent() : Promise.resolve(LazyComponent)\n  const cachedComponent = cache.get(LazyComponent)\n\n  return pure(({ slots, attributes, props }) => ({\n    mount(el, parentScope) {\n      this.el = el\n      this.isMounted = true\n      const mount = () => this.mountLazyComponent(parentScope)\n\n      if (cachedComponent) {\n        mount()\n      } else {\n        if (hasLoader) this.createManagedComponent(Loader, parentScope)\n\n        load().then(data => {\n          cache.set(LazyComponent, data.default || data)\n          mount()\n        })\n      }\n    },\n    createManagedComponent(Child, parentScope) {\n      this.component = component(Child)(this.el, props, {\n        attributes, slots, parentScope\n      })\n    },\n    mountLazyComponent(parentScope) {\n      // if this component was unmounted just return here\n      if (!this.isMounted) return\n\n      // unmount the loader if it was previously created\n      // notice the true flat to keep the root node\n      if (this.component) this.component.unmount(true)\n\n      // replace the old component instance with the new lazy loaded component\n      this.createManagedComponent(cache.get(LazyComponent), parentScope)\n    },\n    update(parentScope) {\n      if (this.isMounted && this.component) this.component.update({}, parentScope)\n    },\n    unmount(...args) {\n      this.isMounted = false\n\n      if (this.component) this.component.unmount(...args)\n    }\n  }))\n}\n\nexport default function lazy(Loader, Component) {\n  return {\n    name: 'lazy',\n    exports: lazy.export(Loader, Component)\n  }\n}","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","import { __, pure } from 'riot';\n\n/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n  var tokens = [];\n  var i = 0;\n\n  while (i < str.length) {\n    var char = str[i];\n\n    if (char === \"*\" || char === \"+\" || char === \"?\") {\n      tokens.push({\n        type: \"MODIFIER\",\n        index: i,\n        value: str[i++]\n      });\n      continue;\n    }\n\n    if (char === \"\\\\\") {\n      tokens.push({\n        type: \"ESCAPED_CHAR\",\n        index: i++,\n        value: str[i++]\n      });\n      continue;\n    }\n\n    if (char === \"{\") {\n      tokens.push({\n        type: \"OPEN\",\n        index: i,\n        value: str[i++]\n      });\n      continue;\n    }\n\n    if (char === \"}\") {\n      tokens.push({\n        type: \"CLOSE\",\n        index: i,\n        value: str[i++]\n      });\n      continue;\n    }\n\n    if (char === \":\") {\n      var name = \"\";\n      var j = i + 1;\n\n      while (j < str.length) {\n        var code = str.charCodeAt(j);\n\n        if ( // `0-9`\n        code >= 48 && code <= 57 || // `A-Z`\n        code >= 65 && code <= 90 || // `a-z`\n        code >= 97 && code <= 122 || // `_`\n        code === 95) {\n          name += str[j++];\n          continue;\n        }\n\n        break;\n      }\n\n      if (!name) throw new TypeError(\"Missing parameter name at \" + i);\n      tokens.push({\n        type: \"NAME\",\n        index: i,\n        value: name\n      });\n      i = j;\n      continue;\n    }\n\n    if (char === \"(\") {\n      var count = 1;\n      var pattern = \"\";\n      var j = i + 1;\n\n      if (str[j] === \"?\") {\n        throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \" + j);\n      }\n\n      while (j < str.length) {\n        if (str[j] === \"\\\\\") {\n          pattern += str[j++] + str[j++];\n          continue;\n        }\n\n        if (str[j] === \")\") {\n          count--;\n\n          if (count === 0) {\n            j++;\n            break;\n          }\n        } else if (str[j] === \"(\") {\n          count++;\n\n          if (str[j + 1] !== \"?\") {\n            throw new TypeError(\"Capturing groups are not allowed at \" + j);\n          }\n        }\n\n        pattern += str[j++];\n      }\n\n      if (count) throw new TypeError(\"Unbalanced pattern at \" + i);\n      if (!pattern) throw new TypeError(\"Missing pattern at \" + i);\n      tokens.push({\n        type: \"PATTERN\",\n        index: i,\n        value: pattern\n      });\n      i = j;\n      continue;\n    }\n\n    tokens.push({\n      type: \"CHAR\",\n      index: i,\n      value: str[i++]\n    });\n  }\n\n  tokens.push({\n    type: \"END\",\n    index: i,\n    value: \"\"\n  });\n  return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\n\n\nfunction parse(str, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var tokens = lexer(str);\n  var _a = options.prefixes,\n      prefixes = _a === void 0 ? \"./\" : _a;\n  var defaultPattern = \"[^\" + escapeString(options.delimiter || \"/#?\") + \"]+?\";\n  var result = [];\n  var key = 0;\n  var i = 0;\n  var path = \"\";\n\n  var tryConsume = function tryConsume(type) {\n    if (i < tokens.length && tokens[i].type === type) return tokens[i++].value;\n  };\n\n  var mustConsume = function mustConsume(type) {\n    var value = tryConsume(type);\n    if (value !== undefined) return value;\n    var _a = tokens[i],\n        nextType = _a.type,\n        index = _a.index;\n    throw new TypeError(\"Unexpected \" + nextType + \" at \" + index + \", expected \" + type);\n  };\n\n  var consumeText = function consumeText() {\n    var result = \"\";\n    var value; // tslint:disable-next-line\n\n    while (value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\")) {\n      result += value;\n    }\n\n    return result;\n  };\n\n  while (i < tokens.length) {\n    var char = tryConsume(\"CHAR\");\n    var name = tryConsume(\"NAME\");\n    var pattern = tryConsume(\"PATTERN\");\n\n    if (name || pattern) {\n      var prefix = char || \"\";\n\n      if (prefixes.indexOf(prefix) === -1) {\n        path += prefix;\n        prefix = \"\";\n      }\n\n      if (path) {\n        result.push(path);\n        path = \"\";\n      }\n\n      result.push({\n        name: name || key++,\n        prefix: prefix,\n        suffix: \"\",\n        pattern: pattern || defaultPattern,\n        modifier: tryConsume(\"MODIFIER\") || \"\"\n      });\n      continue;\n    }\n\n    var value = char || tryConsume(\"ESCAPED_CHAR\");\n\n    if (value) {\n      path += value;\n      continue;\n    }\n\n    if (path) {\n      result.push(path);\n      path = \"\";\n    }\n\n    var open = tryConsume(\"OPEN\");\n\n    if (open) {\n      var prefix = consumeText();\n      var name_1 = tryConsume(\"NAME\") || \"\";\n      var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n      var suffix = consumeText();\n      mustConsume(\"CLOSE\");\n      result.push({\n        name: name_1 || (pattern_1 ? key++ : \"\"),\n        pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n        prefix: prefix,\n        suffix: suffix,\n        modifier: tryConsume(\"MODIFIER\") || \"\"\n      });\n      continue;\n    }\n\n    mustConsume(\"END\");\n  }\n\n  return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\n\nfunction compile(str, options) {\n  return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\n\nfunction tokensToFunction(tokens, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var reFlags = flags(options);\n  var _a = options.encode,\n      encode = _a === void 0 ? function (x) {\n    return x;\n  } : _a,\n      _b = options.validate,\n      validate = _b === void 0 ? true : _b; // Compile all the tokens into regexps.\n\n  var matches = tokens.map(function (token) {\n    if (typeof token === \"object\") {\n      return new RegExp(\"^(?:\" + token.pattern + \")$\", reFlags);\n    }\n  });\n  return function (data) {\n    var path = \"\";\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === \"string\") {\n        path += token;\n        continue;\n      }\n\n      var value = data ? data[token.name] : undefined;\n      var optional = token.modifier === \"?\" || token.modifier === \"*\";\n      var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n\n      if (Array.isArray(value)) {\n        if (!repeat) {\n          throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not repeat, but got an array\");\n        }\n\n        if (value.length === 0) {\n          if (optional) continue;\n          throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not be empty\");\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          var segment = encode(value[j], token);\n\n          if (validate && !matches[i].test(segment)) {\n            throw new TypeError(\"Expected all \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n          }\n\n          path += token.prefix + segment + token.suffix;\n        }\n\n        continue;\n      }\n\n      if (typeof value === \"string\" || typeof value === \"number\") {\n        var segment = encode(String(value), token);\n\n        if (validate && !matches[i].test(segment)) {\n          throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n        }\n\n        path += token.prefix + segment + token.suffix;\n        continue;\n      }\n\n      if (optional) continue;\n      var typeOfMessage = repeat ? \"an array\" : \"a string\";\n      throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to be \" + typeOfMessage);\n    }\n\n    return path;\n  };\n}\n/**\n * Escape a regular expression string.\n */\n\nfunction escapeString(str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\n\n\nfunction flags(options) {\n  return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\n\n\nfunction regexpToRegexp(path, keys) {\n  if (!keys) return path; // Use a negative lookahead to match only capturing groups.\n\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: \"\",\n        suffix: \"\",\n        modifier: \"\",\n        pattern: \"\"\n      });\n    }\n  }\n\n  return path;\n}\n/**\n * Transform an array into a regexp.\n */\n\n\nfunction arrayToRegexp(paths, keys, options) {\n  var parts = paths.map(function (path) {\n    return pathToRegexp(path, keys, options).source;\n  });\n  return new RegExp(\"(?:\" + parts.join(\"|\") + \")\", flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\n\n\nfunction stringToRegexp(path, keys, options) {\n  return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\n\n\nfunction tokensToRegexp(tokens, keys, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _a = options.strict,\n      strict = _a === void 0 ? false : _a,\n      _b = options.start,\n      start = _b === void 0 ? true : _b,\n      _c = options.end,\n      end = _c === void 0 ? true : _c,\n      _d = options.encode,\n      encode = _d === void 0 ? function (x) {\n    return x;\n  } : _d;\n  var endsWith = \"[\" + escapeString(options.endsWith || \"\") + \"]|$\";\n  var delimiter = \"[\" + escapeString(options.delimiter || \"/#?\") + \"]\";\n  var route = start ? \"^\" : \"\"; // Iterate over the tokens and create our regexp string.\n\n  for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n    var token = tokens_1[_i];\n\n    if (typeof token === \"string\") {\n      route += escapeString(encode(token));\n    } else {\n      var prefix = escapeString(encode(token.prefix));\n      var suffix = escapeString(encode(token.suffix));\n\n      if (token.pattern) {\n        if (keys) keys.push(token);\n\n        if (prefix || suffix) {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            var mod = token.modifier === \"*\" ? \"?\" : \"\";\n            route += \"(?:\" + prefix + \"((?:\" + token.pattern + \")(?:\" + suffix + prefix + \"(?:\" + token.pattern + \"))*)\" + suffix + \")\" + mod;\n          } else {\n            route += \"(?:\" + prefix + \"(\" + token.pattern + \")\" + suffix + \")\" + token.modifier;\n          }\n        } else {\n          route += \"(\" + token.pattern + \")\" + token.modifier;\n        }\n      } else {\n        route += \"(?:\" + prefix + suffix + \")\" + token.modifier;\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += delimiter + \"?\";\n    route += !options.endsWith ? \"$\" : \"(?=\" + endsWith + \")\";\n  } else {\n    var endToken = tokens[tokens.length - 1];\n    var isEndDelimited = typeof endToken === \"string\" ? delimiter.indexOf(endToken[endToken.length - 1]) > -1 : // tslint:disable-next-line\n    endToken === undefined;\n\n    if (!strict) {\n      route += \"(?:\" + delimiter + \"(?=\" + endsWith + \"))?\";\n    }\n\n    if (!isEndDelimited) {\n      route += \"(?=\" + delimiter + \"|\" + endsWith + \")\";\n    }\n  }\n\n  return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\n\nfunction pathToRegexp(path, keys, options) {\n  if (path instanceof RegExp) return regexpToRegexp(path, keys);\n  if (Array.isArray(path)) return arrayToRegexp(path, keys, options);\n  return stringToRegexp(path, keys, options);\n}\n\n/**\n * Cancel token\n * @private\n * @type { Symbol }\n */\nconst CANCEL = Symbol();\n/**\n * Helper that can be returned by ruit function to cancel the tasks chain\n * @returns { Symbol } internal private constant\n * @example\n *\n * ruit(\n *   100,\n *   num => Math.random() * num\n *   num => num > 50 ? ruit.cancel() : num\n *   num => num - 2\n * ).then(result => {\n *   console.log(result) // here we will get only number lower than 50\n * })\n *\n */\n\nruit.cancel = () => CANCEL;\n/**\n * The same as ruit() but with the arguments inverted from right to left\n * @param   { * } tasks - list of tasks to process sequentially\n * @returns { Promise } a promise containing the result of the whole chain\n * @example\n *\n * const curry = f => a => b => f(a, b)\n * const add = (a, b) => a + b\n *\n * const addOne = curry(add)(1)\n *\n * const squareAsync = (num) => {\n *   return new Promise(r => {\n *     setTimeout(r, 500, num * 2)\n *   })\n * }\n *\n * // a -> a + a -> a * 2\n * // basically from right to left: 1 => 1 + 1 => 2 * 2\n * ruit.compose(squareAsync, addOne, 1).then(result => console.log(result)) // 4\n */\n\n\nruit.compose = function () {\n  for (var _len = arguments.length, tasks = new Array(_len), _key = 0; _key < _len; _key++) {\n    tasks[_key] = arguments[_key];\n  }\n\n  return ruit(...tasks.reverse());\n};\n/**\n * Serialize a list of sync and async tasks from left to right\n * @param   { * } tasks - list of tasks to process sequentially\n * @returns { Promise } a promise containing the result of the whole chain\n * @example\n *\n * const curry = f => a => b => f(a, b)\n * const add = (a, b) => a + b\n *\n * const addOne = curry(add)(1)\n *\n * const squareAsync = (num) => {\n *   return new Promise(r => {\n *     setTimeout(r, 500, num * 2)\n *   })\n * }\n *\n * // a -> a + a -> a * 2\n * // basically from left to right: 1 => 1 + 1 => 2 * 2\n * ruit(1, addOne, squareAsync).then(result => console.log(result)) // 4\n */\n\n\nfunction ruit() {\n  for (var _len2 = arguments.length, tasks = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    tasks[_key2] = arguments[_key2];\n  }\n\n  return new Promise((resolve, reject) => {\n    return function run(queue, result) {\n      if (!queue.length) return resolve(result);\n      const [task, ...rest] = queue;\n      const value = typeof task === 'function' ? task(result) : task;\n\n      const done = v => run(rest, v); // check against nil values\n\n\n      if (value != null) {\n        if (value === CANCEL) return;\n        if (value.then) return value.then(done, reject);\n      }\n\n      return Promise.resolve(done(value));\n    }(tasks);\n  });\n}\n\nconst API_METHODS = new Set();\nconst UNSUBSCRIBE_SYMBOL = Symbol();\nconst UNSUBSCRIBE_METHOD = 'off';\nconst CANCEL_METHOD = 'cancel';\n/**\n * Factory function to create the stream generator\n * @private\n * @param {Set} modifiers - stream input modifiers\n * @returns {Generator} the stream generator\n */\n\nfunction createStream(modifiers) {\n  const stream = function* stream() {\n    while (true) {\n      // get the initial stream value\n      const input = yield; // run the input sequence\n\n      yield ruit(input, ...modifiers);\n    }\n  }(); // start the stream\n\n\n  stream.next();\n  return stream;\n}\n/**\n * Dispatch a value to several listeners\n * @private\n * @param   {Set} callbacks - callbacks collection\n * @param   {*} value - anything\n * @returns {Set} the callbacks received\n */\n\n\nfunction dispatch(callbacks, value) {\n  callbacks.forEach(f => {\n    // unsubscribe the callback if erre.unsubscribe() will be returned\n    if (f(value) === UNSUBSCRIBE_SYMBOL) callbacks.delete(f);\n  });\n  return callbacks;\n}\n/**\n * Throw a panic error\n * @param {string} message - error message\n * @returns {Error} an error object\n */\n\n\nfunction panic(message) {\n  throw new Error(message);\n}\n/**\n * Install an erre plugin adding it to the API\n * @param   {string} name - plugin name\n * @param   {Function} fn - new erre API method\n * @returns {Function} return the erre function\n */\n\n\nerre.install = function (name, fn) {\n  if (!name || typeof name !== 'string') panic('Please provide a name (as string) for your erre plugin');\n  if (!fn || typeof fn !== 'function') panic('Please provide a function for your erre plugin');\n\n  if (API_METHODS.has(name)) {\n    panic(`The ${name} is already part of the erre API, please provide a different name`);\n  } else {\n    erre[name] = fn;\n    API_METHODS.add(name);\n  }\n\n  return erre;\n}; // alias for ruit canel to stop a stream chain\n\n\nerre.install(CANCEL_METHOD, ruit.cancel); // unsubscribe helper\n\nerre.install(UNSUBSCRIBE_METHOD, () => UNSUBSCRIBE_SYMBOL);\n/**\n * Stream constuction function\n * @param   {...Function} fns - stream modifiers\n * @returns {Object} erre instance\n */\n\nfunction erre() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  const [success, error, end, modifiers] = [new Set(), new Set(), new Set(), new Set(fns)],\n        generator = createStream(modifiers),\n        stream = Object.create(generator),\n        addToCollection = collection => fn => collection.add(fn) && stream,\n        deleteFromCollection = collection => fn => collection.delete(fn) ? stream : panic('Couldn\\'t remove handler passed by reference');\n\n  return Object.assign(stream, {\n    on: Object.freeze({\n      value: addToCollection(success),\n      error: addToCollection(error),\n      end: addToCollection(end)\n    }),\n    off: Object.freeze({\n      value: deleteFromCollection(success),\n      error: deleteFromCollection(error),\n      end: deleteFromCollection(end)\n    }),\n    connect: addToCollection(modifiers),\n\n    push(input) {\n      const {\n        value,\n        done\n      } = stream.next(input); // dispatch the stream events\n\n      if (!done) {\n        value.then(res => dispatch(success, res), err => dispatch(error, err));\n      }\n\n      return stream;\n    },\n\n    end() {\n      // kill the stream\n      generator.return(); // dispatch the end event\n\n      dispatch(end) // clean up all the collections\n      ;\n      [success, error, end, modifiers].forEach(el => el.clear());\n      return stream;\n    },\n\n    fork() {\n      return erre(...modifiers);\n    },\n\n    next(input) {\n      // get the input and run eventually the promise\n      const result = generator.next(input); // pause to the next iteration\n\n      generator.next();\n      return result;\n    }\n\n  });\n}\n\nconst hasWindow = typeof window !== 'undefined';\n\nconst isString = str => typeof str === 'string'; // the url parsing function depends on the platform, on node we rely on the 'url' module\n\n/* istanbul ignore next */\n\n\nconst parseURL = function parseURL() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return hasWindow ? new URL(...args) : require('url').parse(...args);\n};\n/**\n * Replace the base path from a path\n * @param   {string} path - router path string\n * @returns {string} path cleaned up without the base\n */\n\n\nconst replaceBase = path => path.replace(defaults.base, '');\n/**\n * Try to match the current path or skip it\n * @param   {RegEx} pathRegExp - target path transformed by pathToRegexp\n * @returns {string|Symbol} if the path match we return it otherwise we cancel the stream\n */\n\n\nconst matchOrSkip = pathRegExp => path => match(path, pathRegExp) ? path : erre.cancel();\n/**\n * Combine 2 streams connecting the events of dispatcherStream to the receiverStream\n * @param   {Stream} dispatcherStream - main stream dispatching events\n * @param   {Stream} receiverStream - sub stream receiving events from the dispatcher\n * @returns {Stream} receiverStream\n */\n\n\nconst joinStreams = (dispatcherStream, receiverStream) => {\n  dispatcherStream.on.value(receiverStream.push);\n  receiverStream.on.end(() => {\n    dispatcherStream.off.value(receiverStream.push);\n  });\n  return receiverStream;\n};\n/**\n * Error handling function\n * @param   {Error} error - error to catch\n * @returns {void}\n */\n\n\nconst panic$1 = error => {\n  if (defaults.silentErrors) return;\n  throw new Error(error);\n}; // make sure that the router will always receive strings params\n\n\nconst filterStrings = str => isString(str) ? str : erre.cancel(); // create the streaming router\n\nconst router = erre(filterStrings).on.error(panic$1); // cast the values of this stream always to string\n\n/* @type {object} general configuration object */\n\nconst defaults = {\n  // custom option\n  base: '',\n  silentErrors: false,\n  // pathToRegexp options\n  sensitive: false,\n  strict: false,\n  end: true,\n  start: true,\n  delimiter: '/#?',\n  encode: undefined,\n  endsWith: undefined,\n  prefixes: './'\n};\n/**\n * Merge the user options with the defaults\n * @param   {Object} options - custom user options\n * @returns {Object} options object merged with defaults\n */\n\nconst mergeOptions = options => Object.assign({}, defaults, options);\n/* {@link https://github.com/pillarjs/path-to-regexp#usage} */\n\nconst toRegexp = (path, keys, options) => pathToRegexp(path, keys, mergeOptions(options));\n/**\n * Convert a router entry to a real path computing the url parameters\n * @param   {string} path - router path string\n * @param   {Object} params - named matched parameters\n * @param   {Object} options - pathToRegexp options object\n * @returns {string} computed url string\n */\n\nconst toPath = (path, params, options) => compile(path, mergeOptions(options))(params);\n/**\n * Parse a string path generating an object containing\n * @param   {string} path - target path\n * @param   {RegExp} pathRegExp - path transformed to regexp via pathToRegexp\n * @param   {Object} options - object containing the base path\n * @returns {URL} url object enhanced with the `match` attribute\n */\n\nconst toURL = (path, pathRegExp, options) => {\n  const {\n    base\n  } = mergeOptions(options);\n  const [, ...params] = pathRegExp.exec(path);\n  const url = parseURL(path, base); // extend the url object adding the matched params\n\n  url.params = params;\n  return url;\n};\n/**\n * Return true if a path will be matched\n * @param   {string} path - target path\n * @param   {RegExp} pathRegExp - path transformed to regexp via pathToRegexp\n * @returns {boolean} true if the path matches the regexp\n */\n\nconst match = (path, pathRegExp) => pathRegExp.test(path);\n/**\n * Factory function to create an sequence of functions to pass to erre.js\n * This function will be used in the erre stream\n * @param   {RegExp} pathRegExp - path transformed to regexp via pathToRegexp\n * @param   {Object} options - pathToRegexp options object\n * @returns {Array} a functions array that will be used as stream pipe for erre.js\n */\n\nconst createURLStreamPipe = (pathRegExp, options) => [replaceBase, matchOrSkip(pathRegExp), path => toURL(path, pathRegExp, options)];\n/**\n * Create a fork of the main router stream\n * @param   {string} path - route to match\n * @param   {Object} options - pathToRegexp options object\n * @returns {Stream} new route stream\n */\n\nfunction createRoute(path, options) {\n  const pathRegExp = pathToRegexp(path, [], options);\n  const URLStream = erre(...createURLStreamPipe(pathRegExp, options));\n  return joinStreams(router, URLStream).on.error(panic$1);\n}\n\nconst getCurrentRoute = (currentRoute => {\n  // listen the route changes events to store the current route\n  router.on.value(r => currentRoute = r);\n  return () => {\n    return currentRoute;\n  };\n})(null);\n\n/**\n * Similar to compose but performs from left-to-right function composition.<br/>\n * {@link https://30secondsofcode.org/function#composeright see also}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\n/**\n * Performs right-to-left function composition.<br/>\n * Use Array.prototype.reduce() to perform right-to-left function composition.<br/>\n * The last (rightmost) function can accept one or more arguments; the remaining functions must be unary.<br/>\n * {@link https://30secondsofcode.org/function#compose original source code}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\n\nfunction compose() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return fns.reduce((f, g) => function () {\n    return f(g(...arguments));\n  });\n}\n\nconst getInitialRouteValue = (pathToRegexp, path, options) => {\n  const route = compose(\n    ...createURLStreamPipe(pathToRegexp, options).reverse()\n  )(path);\n\n  return route.params ? route : null\n};\n\nvar routeHoc = {\n  'css': null,\n\n  'exports': {\n    onBeforeMount(props) {\n      const currentRoute = getCurrentRoute();\n      const pathToRegexp = toRegexp(props.path, [], props);\n\n      this.state = {\n        pathToRegexp,\n        route: currentRoute && match(currentRoute, pathToRegexp) ?\n          getInitialRouteValue(pathToRegexp, currentRoute, props) :\n          null\n      };\n\n      router.on.value(this.onBeforeRoute);\n      this.stream = createRoute(props.path, props).on.value(this.onRoute);\n    },\n\n    onBeforeRoute(path, pathToRegexp) {\n      if (this.state.route && !match(path, this.state.pathToRegexp)) {\n        this.callLifecycleProperty('onBeforeUnmount', createRoute);\n        this.update({\n          route: null\n        });\n        this.callLifecycleProperty('onUnmounted', createRoute);\n      }\n    },\n\n    onRoute(route) {\n      this.callLifecycleProperty('onBeforeMount', route);\n      this.update({route});\n      this.callLifecycleProperty('onMounted', route);\n    },\n\n    callLifecycleProperty(method, ...params) {\n      if (this.props[method]) this.props[method](...params);\n    },\n\n    onUnmounted() {\n      router.off.value(this.onBeforeRoute);\n      this.stream.end();\n    }\n  },\n\n  'template': function(template, expressionTypes, bindingTypes, getComponent) {\n    return template('<template expr0=\"expr0\"></template>', [{\n      'type': bindingTypes.IF,\n\n      'evaluate': function(scope) {\n        return scope.state.route;\n      },\n\n      'redundantAttribute': 'expr0',\n      'selector': '[expr0]',\n\n      'template': template('<slot expr1=\"expr1\"></slot>', [{\n        'type': bindingTypes.SLOT,\n\n        'attributes': [{\n          'type': expressionTypes.ATTRIBUTE,\n          'name': 'route',\n\n          'evaluate': function(scope) {\n            return scope.state.route;\n          }\n        }],\n\n        'name': 'default',\n        'redundantAttribute': 'expr1',\n        'selector': '[expr1]'\n      }])\n    }]);\n  },\n\n  'name': 'route-hoc'\n};\n\nfunction setBase(base) {\n  defaults.base = base;\n}\n\n/**\n * Throw an error with a descriptive message\n * @param   { string } message - error message\n * @returns { undefined } hoppla.. at this point the program should stop working\n */\n\nfunction panic$2(message) {\n  throw new Error(message);\n}\n\n/**\n * Converts any DOM node/s to a loopable array\n * @param   { HTMLElement|NodeList } els - single html element or a node list\n * @returns { Array } always a loopable object\n */\nfunction domToArray(els) {\n  // can this object be already looped?\n  if (!Array.isArray(els)) {\n    // is it a node list?\n    if (/^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(Object.prototype.toString.call(els)) && typeof els.length === 'number') return Array.from(els);else // if it's a single node\n      // it will be returned as \"array\" with one single entry\n      return [els];\n  } // this object could be looped out of the box\n\n\n  return els;\n}\n\n/**\n * Split a string into several items separed by spaces\n * @param   { string } l - events list\n * @returns { Array } all the events detected\n * @private\n */\n\nconst split = l => l.split(/\\s/);\n/**\n * Set a listener for all the events received separated by spaces\n * @param   { HTMLElement|NodeList|Array } els     - DOM node/s where the listeners will be bound\n * @param   { string }                     evList  - list of events we want to bind or unbind space separated\n * @param   { Function }                   cb      - listeners callback\n * @param   { string }                     method  - either 'addEventListener' or 'removeEventListener'\n * @param   { Object }                     options - event options (capture, once and passive)\n * @returns { undefined }\n * @private\n */\n\n\nfunction manageEvents(els, evList, cb, method, options) {\n  els = domToArray(els);\n  split(evList).forEach(e => {\n    els.forEach(el => el[method](e, cb, options || false));\n  });\n}\n/**\n * Set a listener for all the events received separated by spaces\n * @param   { HTMLElement|Array } els    - DOM node/s where the listeners will be bound\n * @param   { string }            evList - list of events we want to bind space separated\n * @param   { Function }          cb     - listeners callback\n * @param   { Object }            options - event options (capture, once and passive)\n * @returns { HTMLElement|NodeList|Array } DOM node/s and first argument of the function\n */\n\n\nfunction add(els, evList, cb, options) {\n  manageEvents(els, evList, cb, 'addEventListener', options);\n  return els;\n}\n/**\n * Remove all the listeners for the events received separated by spaces\n * @param   { HTMLElement|Array } els     - DOM node/s where the events will be unbind\n * @param   { string }            evList  - list of events we want unbind space separated\n * @param   { Function }          cb      - listeners callback\n * @param   { Object }             options - event options (capture, once and passive)\n * @returns { HTMLElement|NodeList|Array }  DOM node/s and first argument of the function\n */\n\nfunction remove(els, evList, cb, options) {\n  manageEvents(els, evList, cb, 'removeEventListener', options);\n  return els;\n}\n\n/**\n * Normalize the return values, in case of a single value we avoid to return an array\n * @param   { Array } values - list of values we want to return\n * @returns { Array|string|boolean } either the whole list of values or the single one found\n * @private\n */\n\nconst normalize = values => values.length === 1 ? values[0] : values;\n/**\n * Parse all the nodes received to get/remove/check their attributes\n * @param   { HTMLElement|NodeList|Array } els    - DOM node/s to parse\n * @param   { string|Array }               name   - name or list of attributes\n * @param   { string }                     method - method that will be used to parse the attributes\n * @returns { Array|string } result of the parsing in a list or a single value\n * @private\n */\n\n\nfunction parseNodes(els, name, method) {\n  const names = typeof name === 'string' ? [name] : name;\n  return normalize(domToArray(els).map(el => {\n    return normalize(names.map(n => el[method](n)));\n  }));\n}\n/**\n * Set any attribute on a single or a list of DOM nodes\n * @param   { HTMLElement|NodeList|Array } els   - DOM node/s to parse\n * @param   { string|Array }               name  - name or list of attributes to detect\n * @returns { boolean|Array } true or false or an array of boolean values\n * @example\n *\n * import { has } from 'bianco.attr'\n *\n * has(img, 'width') // false\n *\n * // or also\n * has(img, ['width', 'height']) // => [false, false]\n *\n * // or also\n * has([img1, img2], ['width', 'height']) // => [[false, false], [false, false]]\n */\n\nfunction has(els, name) {\n  return parseNodes(els, name, 'hasAttribute');\n}\n\nconst WINDOW_EVENTS = 'popstate';\nconst CLICK_EVENT = 'click';\nconst DOWNLOAD_LINK_ATTRIBUTE = 'download';\nconst HREF_LINK_ATTRIBUTE = 'href';\nconst TARGET_SELF_LINK_ATTRIBUTE = '_self';\nconst LINK_TAG_NAME = 'A';\nconst HASH = '#';\nconst RE_ORIGIN = /^.+?\\/\\/+[^/]+/;\n\nconst getWindow = () => typeof window === 'undefined' ? null : window;\n\nconst getDocument = () => typeof document === 'undefined' ? null : document;\n\nconst getHistorty = () => getWindow() && history;\n\nconst getLocation = () => {\n  const win = getWindow();\n  const hist = getHistorty();\n  return win && (hist.location || win.location);\n};\n\nconst onWindowEvent = () => router.push(normalizePath(String(getLocation().href)));\n\nconst onRouterPush = path => {\n  const url = path.includes(defaults.base) ? path : defaults.base + path;\n  const loc = getLocation();\n  const hist = getHistorty();\n  const doc = getDocument(); // update the browser history only if it's necessary\n\n  if (url !== loc.href) {\n    hist.pushState(null, doc.title, url);\n  }\n};\n\nconst getLinkElement = node => node && !isLinkNode(node) ? getLinkElement(node.parentNode) : node;\n\nconst isLinkNode = node => node.nodeName === LINK_TAG_NAME;\n\nconst isCrossOriginLink = path => path.indexOf(getLocation().href.match(RE_ORIGIN)[0]) === -1;\n\nconst isTargetSelfLink = el => el.target && el.target !== TARGET_SELF_LINK_ATTRIBUTE;\n\nconst isEventForbidden = event => event.which && event.which !== 1 || // not left click\nevent.metaKey || event.ctrlKey || event.shiftKey // or meta keys\n|| event.defaultPrevented; // or default prevented\n\n\nconst isForbiddenLink = el => !el || !isLinkNode(el) // not A tag\n|| has(el, DOWNLOAD_LINK_ATTRIBUTE) // has download attr\n|| !has(el, HREF_LINK_ATTRIBUTE) // has no href attr\n|| isTargetSelfLink(el) || isCrossOriginLink(el.href);\n\nconst isHashLink = path => path.split(HASH).length > 1;\n\nconst normalizePath = path => path.replace(defaults.base, '');\n\nconst isInBase = path => !defaults.base || path.includes(defaults.base);\n/**\n * Callback called anytime something will be clicked on the page\n * @param   {HTMLEvent} event - click event\n * @returns {undefined} void method\n */\n\n\nconst onClick = event => {\n  if (isEventForbidden(event)) return;\n  const el = getLinkElement(event.target);\n  if (isForbiddenLink(el) || isHashLink(el.href) || !isInBase(el.href)) return;\n  const path = normalizePath(el.href);\n  router.push(path);\n  event.preventDefault();\n};\n/**\n * Link the rawth router to the DOM events\n * @param { HTMLElement } container - DOM node where the links are located\n * @returns {Function} teardown function\n */\n\n\nfunction initDomListeners(container) {\n  const win = getWindow();\n  const root = container || getDocument();\n\n  if (win) {\n    add(win, WINDOW_EVENTS, onWindowEvent);\n    add(root, CLICK_EVENT, onClick);\n  }\n\n  router.on.value(onRouterPush);\n  return () => {\n    if (win) {\n      remove(win, WINDOW_EVENTS, onWindowEvent);\n      remove(root, CLICK_EVENT, onClick);\n    }\n\n    router.off.value(onRouterPush);\n  };\n}\n\nconst BASE_ATTRIBUTE_NAME = 'base';\nconst ON_STARTED_ATTRIBUTE_NAME = 'onStarted';\nconst defer = window.requestAnimationFrame || window.setTimeout;\nconst cancelDefer = window.cancelAnimationFrame || window.clearTimeout;\n\nlet wasInitialized = false;\n\nvar routerHoc = {\n  'css': null,\n\n  'exports': (() => {\n    // rely on riot internal only if it's available\n    try {\n      const { template, bindingTypes } = __.DOMBindings;\n\n      return pure(({ slots, attributes, props }) => {\n        if (wasInitialized) panic$2('Multiple <router> components are not supported');\n\n        const getAttribute = name => attributes && attributes.find(a => a.name === name);\n\n        return {\n          slot: null,\n          el: null,\n          teardown: null,\n          mount(el, context) {\n            const currentRoute = getCurrentRoute();\n            const onFirstRoute = () => {\n              this.createSlot(context);\n              router.off.value(onFirstRoute);\n            };\n            wasInitialized = true;\n\n            this.el = el;\n            this.teardown = initDomListeners(this.root);\n\n            this.setBase(context);\n\n            // mount the slots only if the current route was defined\n            if (currentRoute) {\n              this.createSlot(context);\n            } else {\n              router.on.value(onFirstRoute);\n              router.push(window.location.href);\n            }\n          },\n          createSlot(context) {\n            if (!slots || !slots.length) return\n            const onStartedAttr = getAttribute(ON_STARTED_ATTRIBUTE_NAME);\n\n            this.slot = template(null, [{\n              type: bindingTypes.SLOT,\n              name: 'default'\n            }]);\n\n            this.slot.mount(this.el, {\n              slots\n            }, context);\n\n            if (onStartedAttr) {\n              onStartedAttr.evaluate(context)(getCurrentRoute());\n            }\n          },\n          update(context) {\n            this.setBase(context);\n\n            // defer the updates to avoid internal recoursive update calls\n            // see https://github.com/riot/route/issues/148\n            if (this.slot) {\n              cancelDefer(this.deferred);\n\n              this.deferred = defer(() => {\n                this.slot.update({}, context);\n              });\n            }\n          },\n          unmount(...args) {\n            this.teardown();\n            wasInitialized = false;\n\n            if (this.slot) {\n              this.slot.unmount(...args);\n            }\n          },\n          getBase(context) {\n            const loc = window.location;\n            const baseAttr = getAttribute(BASE_ATTRIBUTE_NAME);\n\n            return baseAttr ? baseAttr.evaluate(context) : `${loc.protocol}//${loc.host}`\n          },\n          setBase(context) {\n            setBase(props ? props.base : this.getBase(context));\n          }\n        }\n      })\n    } catch(error) {\n      // riot is not available\n    }\n  })(),\n\n  'template': null,\n  'name': 'router-hoc'\n};\n\nexport { routeHoc as Route, routerHoc as Router, createURLStreamPipe, filterStrings, getCurrentRoute, initDomListeners, match, createRoute as route, router, setBase, toPath, toRegexp, toURL };\n","export default {\n  'css': null,\n  'exports': null,\n\n  'template': function(template, expressionTypes, bindingTypes, getComponent) {\n    return template('\\n  Loading...\\n', []);\n  },\n\n  'name': 'loader'\n};","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      }).catch(function(e) {\n        delete bundles[bundle];\n        \n        throw e;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","import lazy from '@riotjs/lazy'\nimport { Router, Route } from '@riotjs/route'\nimport Loader from './Loader.riot'\n\nexport default {\n  'css': `app,[is=\"app\"]{ font-family: Helvetica Neue, Helvetica, Arial; } app ul,[is=\"app\"] ul{ display: flex; list-style: none; padding: 0; margin: 0; } app ul li a,[is=\"app\"] ul li a{ padding: 16px; }`,\n\n  'exports': {\n    components: {\n      Router,\n      Route,\n      Counter: lazy(Loader, () => import('./Counter.riot')),\n      Books: lazy(Loader, () => import('./Books.riot')),\n    }\n  },\n\n  'template': function(template, expressionTypes, bindingTypes, getComponent) {\n    return template('<h1 expr0=\"expr0\"> </h1><router expr1=\"expr1\"></router>', [{\n      'redundantAttribute': 'expr0',\n      'selector': '[expr0]',\n\n      'expressions': [{\n        'type': expressionTypes.TEXT,\n        'childNodeIndex': 0,\n\n        'evaluate': function(scope) {\n          return scope.props.message;\n        }\n      }]\n    }, {\n      'type': bindingTypes.TAG,\n      'getComponent': getComponent,\n\n      'evaluate': function(scope) {\n        return 'router';\n      },\n\n      'slots': [{\n        'id': 'default',\n        'html': '<nav><ul><li><a href=\"/\"></a></li><li><a href=\"/books\">Books</a></li></ul></nav><route expr2=\"expr2\" path=\"/\"></route><route expr4=\"expr4\" path=\"/books\"></route>',\n\n        'bindings': [{\n          'type': bindingTypes.TAG,\n          'getComponent': getComponent,\n\n          'evaluate': function(scope) {\n            return 'route';\n          },\n\n          'slots': [{\n            'id': 'default',\n            'html': '<counter expr3=\"expr3\"></counter>',\n\n            'bindings': [{\n              'type': bindingTypes.TAG,\n              'getComponent': getComponent,\n\n              'evaluate': function(scope) {\n                return 'counter';\n              },\n\n              'slots': [],\n              'attributes': [],\n              'redundantAttribute': 'expr3',\n              'selector': '[expr3]'\n            }]\n          }],\n\n          'attributes': [],\n          'redundantAttribute': 'expr2',\n          'selector': '[expr2]'\n        }, {\n          'type': bindingTypes.TAG,\n          'getComponent': getComponent,\n\n          'evaluate': function(scope) {\n            return 'route';\n          },\n\n          'slots': [{\n            'id': 'default',\n            'html': '<books expr5=\"expr5\"></books>',\n\n            'bindings': [{\n              'type': bindingTypes.TAG,\n              'getComponent': getComponent,\n\n              'evaluate': function(scope) {\n                return 'books';\n              },\n\n              'slots': [],\n              'attributes': [],\n              'redundantAttribute': 'expr5',\n              'selector': '[expr5]'\n            }]\n          }],\n\n          'attributes': [],\n          'redundantAttribute': 'expr4',\n          'selector': '[expr4]'\n        }]\n      }],\n\n      'attributes': [],\n      'redundantAttribute': 'expr1',\n      'selector': '[expr1]'\n    }]);\n  },\n\n  'name': 'app'\n};","import App from './App.riot'\nimport {component} from 'riot'\n\ncomponent(App)(document.querySelector('#root'), {\n  message: 'Hello there'\n})","\n            module.exports = function( bundle ) {\n                function __initialize( __wasm_module, __load_asynchronously ) {\n    return (function( module_factory ) {\n        var instance = module_factory();\n        if( __load_asynchronously ) {\n            return WebAssembly.instantiate( __wasm_module, instance.imports )\n                .then( function( wasm_instance ) {\n                    var exports = instance.initialize( wasm_instance );\n                    console.log( \"Finished loading Rust wasm module 'riot_rs_wasm'\" );\n                    return exports;\n                })\n                .catch( function( error ) {\n                    console.log( \"Error loading Rust wasm module 'riot_rs_wasm':\", error );\n                    throw error;\n                });\n        } else {\n            var instance = new WebAssembly.Instance( __wasm_module, instance.imports );\n            return instance.initialize( wasm_instance );\n        }\n    }( function() {\n    var Module = {};\n\n    Module.STDWEB_PRIVATE = {};\n\n// This is based on code from Emscripten's preamble.js.\nModule.STDWEB_PRIVATE.to_utf8 = function to_utf8( str, addr ) {\n    var HEAPU8 = Module.HEAPU8;\n    for( var i = 0; i < str.length; ++i ) {\n        // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code unit, not a Unicode code point of the character! So decode UTF16->UTF32->UTF8.\n        // See http://unicode.org/faq/utf_bom.html#utf16-3\n        // For UTF8 byte structure, see http://en.wikipedia.org/wiki/UTF-8#Description and https://www.ietf.org/rfc/rfc2279.txt and https://tools.ietf.org/html/rfc3629\n        var u = str.charCodeAt( i ); // possibly a lead surrogate\n        if( u >= 0xD800 && u <= 0xDFFF ) {\n            u = 0x10000 + ((u & 0x3FF) << 10) | (str.charCodeAt( ++i ) & 0x3FF);\n        }\n\n        if( u <= 0x7F ) {\n            HEAPU8[ addr++ ] = u;\n        } else if( u <= 0x7FF ) {\n            HEAPU8[ addr++ ] = 0xC0 | (u >> 6);\n            HEAPU8[ addr++ ] = 0x80 | (u & 63);\n        } else if( u <= 0xFFFF ) {\n            HEAPU8[ addr++ ] = 0xE0 | (u >> 12);\n            HEAPU8[ addr++ ] = 0x80 | ((u >> 6) & 63);\n            HEAPU8[ addr++ ] = 0x80 | (u & 63);\n        } else if( u <= 0x1FFFFF ) {\n            HEAPU8[ addr++ ] = 0xF0 | (u >> 18);\n            HEAPU8[ addr++ ] = 0x80 | ((u >> 12) & 63);\n            HEAPU8[ addr++ ] = 0x80 | ((u >> 6) & 63);\n            HEAPU8[ addr++ ] = 0x80 | (u & 63);\n        } else if( u <= 0x3FFFFFF ) {\n            HEAPU8[ addr++ ] = 0xF8 | (u >> 24);\n            HEAPU8[ addr++ ] = 0x80 | ((u >> 18) & 63);\n            HEAPU8[ addr++ ] = 0x80 | ((u >> 12) & 63);\n            HEAPU8[ addr++ ] = 0x80 | ((u >> 6) & 63);\n            HEAPU8[ addr++ ] = 0x80 | (u & 63);\n        } else {\n            HEAPU8[ addr++ ] = 0xFC | (u >> 30);\n            HEAPU8[ addr++ ] = 0x80 | ((u >> 24) & 63);\n            HEAPU8[ addr++ ] = 0x80 | ((u >> 18) & 63);\n            HEAPU8[ addr++ ] = 0x80 | ((u >> 12) & 63);\n            HEAPU8[ addr++ ] = 0x80 | ((u >> 6) & 63);\n            HEAPU8[ addr++ ] = 0x80 | (u & 63);\n        }\n    }\n};\n\nModule.STDWEB_PRIVATE.noop = function() {};\nModule.STDWEB_PRIVATE.to_js = function to_js( address ) {\n    var kind = Module.HEAPU8[ address + 12 ];\n    if( kind === 0 ) {\n        return undefined;\n    } else if( kind === 1 ) {\n        return null;\n    } else if( kind === 2 ) {\n        return Module.HEAP32[ address / 4 ];\n    } else if( kind === 3 ) {\n        return Module.HEAPF64[ address / 8 ];\n    } else if( kind === 4 ) {\n        var pointer = Module.HEAPU32[ address / 4 ];\n        var length = Module.HEAPU32[ (address + 4) / 4 ];\n        return Module.STDWEB_PRIVATE.to_js_string( pointer, length );\n    } else if( kind === 5 ) {\n        return false;\n    } else if( kind === 6 ) {\n        return true;\n    } else if( kind === 7 ) {\n        var pointer = Module.STDWEB_PRIVATE.arena + Module.HEAPU32[ address / 4 ];\n        var length = Module.HEAPU32[ (address + 4) / 4 ];\n        var output = [];\n        for( var i = 0; i < length; ++i ) {\n            output.push( Module.STDWEB_PRIVATE.to_js( pointer + i * 16 ) );\n        }\n        return output;\n    } else if( kind === 8 ) {\n        var arena = Module.STDWEB_PRIVATE.arena;\n        var value_array_pointer = arena + Module.HEAPU32[ address / 4 ];\n        var length = Module.HEAPU32[ (address + 4) / 4 ];\n        var key_array_pointer = arena + Module.HEAPU32[ (address + 8) / 4 ];\n        var output = {};\n        for( var i = 0; i < length; ++i ) {\n            var key_pointer = Module.HEAPU32[ (key_array_pointer + i * 8) / 4 ];\n            var key_length = Module.HEAPU32[ (key_array_pointer + 4 + i * 8) / 4 ];\n            var key = Module.STDWEB_PRIVATE.to_js_string( key_pointer, key_length );\n            var value = Module.STDWEB_PRIVATE.to_js( value_array_pointer + i * 16 );\n            output[ key ] = value;\n        }\n        return output;\n    } else if( kind === 9 ) {\n        return Module.STDWEB_PRIVATE.acquire_js_reference( Module.HEAP32[ address / 4 ] );\n    } else if( kind === 10 || kind === 12 || kind === 13 ) {\n        var adapter_pointer = Module.HEAPU32[ address / 4 ];\n        var pointer = Module.HEAPU32[ (address + 4) / 4 ];\n        var deallocator_pointer = Module.HEAPU32[ (address + 8) / 4 ];\n        var num_ongoing_calls = 0;\n        var drop_queued = false;\n        var output = function() {\n            if( pointer === 0 || drop_queued === true ) {\n                if (kind === 10) {\n                    throw new ReferenceError( \"Already dropped Rust function called!\" );\n                } else if (kind === 12) {\n                    throw new ReferenceError( \"Already dropped FnMut function called!\" );\n                } else {\n                    throw new ReferenceError( \"Already called or dropped FnOnce function called!\" );\n                }\n            }\n\n            var function_pointer = pointer;\n            if (kind === 13) {\n                output.drop = Module.STDWEB_PRIVATE.noop;\n                pointer = 0;\n            }\n\n            if (num_ongoing_calls !== 0) {\n                if (kind === 12 || kind === 13) {\n                    throw new ReferenceError( \"FnMut function called multiple times concurrently!\" );\n                }\n            }\n\n            var args = Module.STDWEB_PRIVATE.alloc( 16 );\n            Module.STDWEB_PRIVATE.serialize_array( args, arguments );\n\n            try {\n                num_ongoing_calls += 1;\n                Module.STDWEB_PRIVATE.dyncall( \"vii\", adapter_pointer, [function_pointer, args] );\n                var result = Module.STDWEB_PRIVATE.tmp;\n                Module.STDWEB_PRIVATE.tmp = null;\n            } finally {\n                num_ongoing_calls -= 1;\n            }\n\n            if( drop_queued === true && num_ongoing_calls === 0 ) {\n                output.drop();\n            }\n\n            return result;\n        };\n\n        output.drop = function() {\n            if (num_ongoing_calls !== 0) {\n                drop_queued = true;\n                return;\n            }\n\n            output.drop = Module.STDWEB_PRIVATE.noop;\n            var function_pointer = pointer;\n            pointer = 0;\n\n            if (function_pointer != 0) {\n                Module.STDWEB_PRIVATE.dyncall( \"vi\", deallocator_pointer, [function_pointer] );\n            }\n        };\n\n        return output;\n    } else if( kind === 14 ) {\n        var pointer = Module.HEAPU32[ address / 4 ];\n        var length = Module.HEAPU32[ (address + 4) / 4 ];\n        var array_kind = Module.HEAPU32[ (address + 8) / 4 ];\n        var pointer_end = pointer + length;\n\n        switch( array_kind ) {\n            case 0:\n                return Module.HEAPU8.subarray( pointer, pointer_end );\n            case 1:\n                return Module.HEAP8.subarray( pointer, pointer_end );\n            case 2:\n                return Module.HEAPU16.subarray( pointer, pointer_end );\n            case 3:\n                return Module.HEAP16.subarray( pointer, pointer_end );\n            case 4:\n                return Module.HEAPU32.subarray( pointer, pointer_end );\n            case 5:\n                return Module.HEAP32.subarray( pointer, pointer_end );\n            case 6:\n                return Module.HEAPF32.subarray( pointer, pointer_end );\n            case 7:\n                return Module.HEAPF64.subarray( pointer, pointer_end );\n        }\n    } else if( kind === 15 ) {\n        return Module.STDWEB_PRIVATE.get_raw_value( Module.HEAPU32[ address / 4 ] );\n    }\n};\n\nModule.STDWEB_PRIVATE.serialize_object = function serialize_object( address, value ) {\n    var keys = Object.keys( value );\n    var length = keys.length;\n    var key_array_pointer = Module.STDWEB_PRIVATE.alloc( length * 8 );\n    var value_array_pointer = Module.STDWEB_PRIVATE.alloc( length * 16 );\n    Module.HEAPU8[ address + 12 ] = 8;\n    Module.HEAPU32[ address / 4 ] = value_array_pointer;\n    Module.HEAPU32[ (address + 4) / 4 ] = length;\n    Module.HEAPU32[ (address + 8) / 4 ] = key_array_pointer;\n    for( var i = 0; i < length; ++i ) {\n        var key = keys[ i ];\n        var key_address = key_array_pointer + i * 8;\n        Module.STDWEB_PRIVATE.to_utf8_string( key_address, key );\n\n        Module.STDWEB_PRIVATE.from_js( value_array_pointer + i * 16, value[ key ] );\n    }\n};\n\nModule.STDWEB_PRIVATE.serialize_array = function serialize_array( address, value ) {\n    var length = value.length;\n    var pointer = Module.STDWEB_PRIVATE.alloc( length * 16 );\n    Module.HEAPU8[ address + 12 ] = 7;\n    Module.HEAPU32[ address / 4 ] = pointer;\n    Module.HEAPU32[ (address + 4) / 4 ] = length;\n    for( var i = 0; i < length; ++i ) {\n        Module.STDWEB_PRIVATE.from_js( pointer + i * 16, value[ i ] );\n    }\n};\n\n// New browsers and recent Node\nvar cachedEncoder = ( typeof TextEncoder === \"function\"\n    ? new TextEncoder( \"utf-8\" )\n    // Old Node (before v11)\n    : ( typeof util === \"object\" && util && typeof util.TextEncoder === \"function\"\n        ? new util.TextEncoder( \"utf-8\" )\n        // Old browsers\n        : null ) );\n\nif ( cachedEncoder != null ) {\n    Module.STDWEB_PRIVATE.to_utf8_string = function to_utf8_string( address, value ) {\n        var buffer = cachedEncoder.encode( value );\n        var length = buffer.length;\n        var pointer = 0;\n\n        if ( length > 0 ) {\n            pointer = Module.STDWEB_PRIVATE.alloc( length );\n            Module.HEAPU8.set( buffer, pointer );\n        }\n\n        Module.HEAPU32[ address / 4 ] = pointer;\n        Module.HEAPU32[ (address + 4) / 4 ] = length;\n    };\n\n} else {\n    Module.STDWEB_PRIVATE.to_utf8_string = function to_utf8_string( address, value ) {\n        var length = Module.STDWEB_PRIVATE.utf8_len( value );\n        var pointer = 0;\n\n        if ( length > 0 ) {\n            pointer = Module.STDWEB_PRIVATE.alloc( length );\n            Module.STDWEB_PRIVATE.to_utf8( value, pointer );\n        }\n\n        Module.HEAPU32[ address / 4 ] = pointer;\n        Module.HEAPU32[ (address + 4) / 4 ] = length;\n    };\n}\n\nModule.STDWEB_PRIVATE.from_js = function from_js( address, value ) {\n    var kind = Object.prototype.toString.call( value );\n    if( kind === \"[object String]\" ) {\n        Module.HEAPU8[ address + 12 ] = 4;\n        Module.STDWEB_PRIVATE.to_utf8_string( address, value );\n    } else if( kind === \"[object Number]\" ) {\n        if( value === (value|0) ) {\n            Module.HEAPU8[ address + 12 ] = 2;\n            Module.HEAP32[ address / 4 ] = value;\n        } else {\n            Module.HEAPU8[ address + 12 ] = 3;\n            Module.HEAPF64[ address / 8 ] = value;\n        }\n    } else if( value === null ) {\n        Module.HEAPU8[ address + 12 ] = 1;\n    } else if( value === undefined ) {\n        Module.HEAPU8[ address + 12 ] = 0;\n    } else if( value === false ) {\n        Module.HEAPU8[ address + 12 ] = 5;\n    } else if( value === true ) {\n        Module.HEAPU8[ address + 12 ] = 6;\n    } else if( kind === \"[object Symbol]\" ) {\n        var id = Module.STDWEB_PRIVATE.register_raw_value( value );\n        Module.HEAPU8[ address + 12 ] = 15;\n        Module.HEAP32[ address / 4 ] = id;\n    } else {\n        var refid = Module.STDWEB_PRIVATE.acquire_rust_reference( value );\n        Module.HEAPU8[ address + 12 ] = 9;\n        Module.HEAP32[ address / 4 ] = refid;\n    }\n};\n\n// New browsers and recent Node\nvar cachedDecoder = ( typeof TextDecoder === \"function\"\n    ? new TextDecoder( \"utf-8\" )\n    // Old Node (before v11)\n    : ( typeof util === \"object\" && util && typeof util.TextDecoder === \"function\"\n        ? new util.TextDecoder( \"utf-8\" )\n        // Old browsers\n        : null ) );\n\nif ( cachedDecoder != null ) {\n    Module.STDWEB_PRIVATE.to_js_string = function to_js_string( index, length ) {\n        return cachedDecoder.decode( Module.HEAPU8.subarray( index, index + length ) );\n    };\n\n} else {\n    // This is ported from Rust's stdlib; it's faster than\n    // the string conversion from Emscripten.\n    Module.STDWEB_PRIVATE.to_js_string = function to_js_string( index, length ) {\n        var HEAPU8 = Module.HEAPU8;\n        index = index|0;\n        length = length|0;\n        var end = (index|0) + (length|0);\n        var output = \"\";\n        while( index < end ) {\n            var x = HEAPU8[ index++ ];\n            if( x < 128 ) {\n                output += String.fromCharCode( x );\n                continue;\n            }\n            var init = (x & (0x7F >> 2));\n            var y = 0;\n            if( index < end ) {\n                y = HEAPU8[ index++ ];\n            }\n            var ch = (init << 6) | (y & 63);\n            if( x >= 0xE0 ) {\n                var z = 0;\n                if( index < end ) {\n                    z = HEAPU8[ index++ ];\n                }\n                var y_z = ((y & 63) << 6) | (z & 63);\n                ch = init << 12 | y_z;\n                if( x >= 0xF0 ) {\n                    var w = 0;\n                    if( index < end ) {\n                        w = HEAPU8[ index++ ];\n                    }\n                    ch = (init & 7) << 18 | ((y_z << 6) | (w & 63));\n\n                    output += String.fromCharCode( 0xD7C0 + (ch >> 10) );\n                    ch = 0xDC00 + (ch & 0x3FF);\n                }\n            }\n            output += String.fromCharCode( ch );\n            continue;\n        }\n        return output;\n    };\n}\n\nModule.STDWEB_PRIVATE.id_to_ref_map = {};\nModule.STDWEB_PRIVATE.id_to_refcount_map = {};\nModule.STDWEB_PRIVATE.ref_to_id_map = new WeakMap();\n// Not all types can be stored in a WeakMap\nModule.STDWEB_PRIVATE.ref_to_id_map_fallback = new Map();\nModule.STDWEB_PRIVATE.last_refid = 1;\n\nModule.STDWEB_PRIVATE.id_to_raw_value_map = {};\nModule.STDWEB_PRIVATE.last_raw_value_id = 1;\n\nModule.STDWEB_PRIVATE.acquire_rust_reference = function( reference ) {\n    if( reference === undefined || reference === null ) {\n        return 0;\n    }\n\n    var id_to_refcount_map = Module.STDWEB_PRIVATE.id_to_refcount_map;\n    var id_to_ref_map = Module.STDWEB_PRIVATE.id_to_ref_map;\n    var ref_to_id_map = Module.STDWEB_PRIVATE.ref_to_id_map;\n    var ref_to_id_map_fallback = Module.STDWEB_PRIVATE.ref_to_id_map_fallback;\n\n    var refid = ref_to_id_map.get( reference );\n    if( refid === undefined ) {\n        refid = ref_to_id_map_fallback.get( reference );\n    }\n    if( refid === undefined ) {\n        refid = Module.STDWEB_PRIVATE.last_refid++;\n        try {\n            ref_to_id_map.set( reference, refid );\n        } catch (e) {\n            ref_to_id_map_fallback.set( reference, refid );\n        }\n    }\n\n    if( refid in id_to_ref_map ) {\n        id_to_refcount_map[ refid ]++;\n    } else {\n        id_to_ref_map[ refid ] = reference;\n        id_to_refcount_map[ refid ] = 1;\n    }\n\n    return refid;\n};\n\nModule.STDWEB_PRIVATE.acquire_js_reference = function( refid ) {\n    return Module.STDWEB_PRIVATE.id_to_ref_map[ refid ];\n};\n\nModule.STDWEB_PRIVATE.increment_refcount = function( refid ) {\n    Module.STDWEB_PRIVATE.id_to_refcount_map[ refid ]++;\n};\n\nModule.STDWEB_PRIVATE.decrement_refcount = function( refid ) {\n    var id_to_refcount_map = Module.STDWEB_PRIVATE.id_to_refcount_map;\n    if( 0 == --id_to_refcount_map[ refid ] ) {\n        var id_to_ref_map = Module.STDWEB_PRIVATE.id_to_ref_map;\n        var ref_to_id_map_fallback = Module.STDWEB_PRIVATE.ref_to_id_map_fallback;\n        var reference = id_to_ref_map[ refid ];\n        delete id_to_ref_map[ refid ];\n        delete id_to_refcount_map[ refid ];\n        ref_to_id_map_fallback.delete(reference);\n    }\n};\n\nModule.STDWEB_PRIVATE.register_raw_value = function( value ) {\n    var id = Module.STDWEB_PRIVATE.last_raw_value_id++;\n    Module.STDWEB_PRIVATE.id_to_raw_value_map[ id ] = value;\n    return id;\n};\n\nModule.STDWEB_PRIVATE.unregister_raw_value = function( id ) {\n    delete Module.STDWEB_PRIVATE.id_to_raw_value_map[ id ];\n};\n\nModule.STDWEB_PRIVATE.get_raw_value = function( id ) {\n    return Module.STDWEB_PRIVATE.id_to_raw_value_map[ id ];\n};\n\nModule.STDWEB_PRIVATE.alloc = function alloc( size ) {\n    return Module.web_malloc( size );\n};\n\nModule.STDWEB_PRIVATE.dyncall = function( signature, ptr, args ) {\n    return Module.web_table.get( ptr ).apply( null, args );\n};\n\n// This is based on code from Emscripten's preamble.js.\nModule.STDWEB_PRIVATE.utf8_len = function utf8_len( str ) {\n    var len = 0;\n    for( var i = 0; i < str.length; ++i ) {\n        // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code unit, not a Unicode code point of the character! So decode UTF16->UTF32->UTF8.\n        // See http://unicode.org/faq/utf_bom.html#utf16-3\n        var u = str.charCodeAt( i ); // possibly a lead surrogate\n        if( u >= 0xD800 && u <= 0xDFFF ) {\n            u = 0x10000 + ((u & 0x3FF) << 10) | (str.charCodeAt( ++i ) & 0x3FF);\n        }\n\n        if( u <= 0x7F ) {\n            ++len;\n        } else if( u <= 0x7FF ) {\n            len += 2;\n        } else if( u <= 0xFFFF ) {\n            len += 3;\n        } else if( u <= 0x1FFFFF ) {\n            len += 4;\n        } else if( u <= 0x3FFFFFF ) {\n            len += 5;\n        } else {\n            len += 6;\n        }\n    }\n    return len;\n};\n\nModule.STDWEB_PRIVATE.prepare_any_arg = function( value ) {\n    var arg = Module.STDWEB_PRIVATE.alloc( 16 );\n    Module.STDWEB_PRIVATE.from_js( arg, value );\n    return arg;\n};\n\nModule.STDWEB_PRIVATE.acquire_tmp = function( dummy ) {\n    var value = Module.STDWEB_PRIVATE.tmp;\n    Module.STDWEB_PRIVATE.tmp = null;\n    return value;\n};\n\n\n\n    var HEAP8 = null;\n    var HEAP16 = null;\n    var HEAP32 = null;\n    var HEAPU8 = null;\n    var HEAPU16 = null;\n    var HEAPU32 = null;\n    var HEAPF32 = null;\n    var HEAPF64 = null;\n\n    Object.defineProperty( Module, 'exports', { value: {} } );\n\n    function __web_on_grow() {\n        var buffer = Module.instance.exports.memory.buffer;\n        HEAP8 = new Int8Array( buffer );\n        HEAP16 = new Int16Array( buffer );\n        HEAP32 = new Int32Array( buffer );\n        HEAPU8 = new Uint8Array( buffer );\n        HEAPU16 = new Uint16Array( buffer );\n        HEAPU32 = new Uint32Array( buffer );\n        HEAPF32 = new Float32Array( buffer );\n        HEAPF64 = new Float64Array( buffer );\n        Module.HEAP8 = HEAP8;\n        Module.HEAP16 = HEAP16;\n        Module.HEAP32 = HEAP32;\n        Module.HEAPU8 = HEAPU8;\n        Module.HEAPU16 = HEAPU16;\n        Module.HEAPU32 = HEAPU32;\n        Module.HEAPF32 = HEAPF32;\n        Module.HEAPF64 = HEAPF64;\n    }\n\n    return {\n        imports: {\n            env: {\n                \"__cargo_web_snippet_285aac3fba72d67cb459d37d4d21aa4fb62598ba\": function($0) {\n                Module.STDWEB_PRIVATE.arena = $0;\n            },\n            \"__cargo_web_snippet_4d66721dd755374fa177d86d1c818bf74cc0be84\": function($0, $1) {\n                $1 = Module.STDWEB_PRIVATE.to_js($1);Module.STDWEB_PRIVATE.from_js($0, (function(){return($1);})());\n            },\n            \"__cargo_web_snippet_515598dacc2aae3ba84e7207f3f75bd28fcbbd15\": function($0) {\n                var o = Module.STDWEB_PRIVATE.acquire_js_reference( $0 );return (o instanceof Object);\n            },\n            \"__cargo_web_snippet_5c3091ae7fa9c42123eec37f64de99a5808e7ef2\": function($0) {\n                var o = Module.STDWEB_PRIVATE.acquire_js_reference( $0 );return (o instanceof Array);\n            },\n            \"__cargo_web_snippet_80d6d56760c65e49b7be8b6b01c1ea861b046bf0\": function($0) {\n                Module.STDWEB_PRIVATE.decrement_refcount( $0 );\n            },\n            \"__cargo_web_snippet_8c32019649bb581b1b742eeedfc410e2bedd56a6\": function($0, $1) {\n                var array = Module.STDWEB_PRIVATE.acquire_js_reference( $0 );Module.STDWEB_PRIVATE.serialize_array( $1, array );\n            },\n            \"__cargo_web_snippet_e9638d6405ab65f78daf4a5af9c9de14ecf1e2ec\": function($0) {\n                $0 = Module.STDWEB_PRIVATE.to_js($0);Module.STDWEB_PRIVATE.unregister_raw_value(($0));\n            },\n            \"__cargo_web_snippet_f814fda503cb20016f78481f85431d48a7c4e731\": function($0, $1) {\n                var object = Module.STDWEB_PRIVATE.acquire_js_reference( $0 );Module.STDWEB_PRIVATE.serialize_object( $1, object );\n            },\n            \"__cargo_web_snippet_ff5103e6cc179d13b4c7a785bdce2708fd559fc0\": function($0) {\n                Module.STDWEB_PRIVATE.tmp = Module.STDWEB_PRIVATE.to_js( $0 );\n            },\n                \"__web_on_grow\": __web_on_grow\n            }\n        },\n        initialize: function( instance ) {\n            Object.defineProperty( Module, 'instance', { value: instance } );\n            Object.defineProperty( Module, 'web_malloc', { value: Module.instance.exports.__web_malloc } );\n            Object.defineProperty( Module, 'web_free', { value: Module.instance.exports.__web_free } );\n            Object.defineProperty( Module, 'web_table', { value: Module.instance.exports.__indirect_function_table } );\n\n            Module.exports.counter_state = function counter_state() {\n    return Module.STDWEB_PRIVATE.acquire_tmp(Module.instance.exports.counter_state());\n}\n;\n                Module.exports.counter_dispatch = function counter_dispatch(state, action) {\n    return Module.STDWEB_PRIVATE.acquire_tmp(Module.instance.exports.counter_dispatch(Module.STDWEB_PRIVATE.prepare_any_arg(state), Module.STDWEB_PRIVATE.prepare_any_arg(action)));\n}\n;\n            __web_on_grow();\n            \n\n            return Module.exports;\n        }\n    };\n}\n ));\n}\n\n                return fetch( bundle )\n                    .then( response => response.arrayBuffer() )\n                    .then( bytes => WebAssembly.compile( bytes ) )\n                    .then( mod => __initialize( mod, true ) );\n            };\n        ","\n                            module.exports = function( bundle ) {\n                                var loader = require( \"./loader-d20feded5cd4b4e8741163e1095849df.js\" );\n                                return loader( bundle );\n                            };\n                        ","module.exports = function loadJSBundle(bundle) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.charset = 'utf-8';\n    script.src = bundle;\n    script.onerror = function (e) {\n      script.onerror = script.onload = null;\n      reject(e);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n};\n"]}